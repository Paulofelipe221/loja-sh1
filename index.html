<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Xiaomi Poco X7 Pro 5G - Shopee 2026</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        :root { --shopee: #ee4d2d; --teal: #00bfa5; --bg: #f5f5f5; --blue: #0055aa; --light-gray: #f0f0f0; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: -apple-system, HelveticaNeue, sans-serif; }
        body { background: var(--bg); color: #333; line-height: 1.4; }

        /* HEADER */
        .top-header { background: #fff; padding: 15px; display: flex; align-items: center; border-bottom: 1px solid #eee; position: sticky; top: 0; z-index: 1000; }
        .top-header i { color: var(--shopee); font-size: 18px; margin-right: 15px; cursor: pointer; }
        .top-header h1 { font-size: 18px; font-weight: 400; }

        /* SEÇÕES GERAIS */
        .section { background: #fff; margin-bottom: 8px; padding: 12px 15px; }
        .orange-text { color: var(--shopee); }
        .gray-text { color: #888; font-size: 12px; }

        /* PRODUTO - TELA PRINCIPAL */
        .product-img { width: 100%; display: block; background: #fff; }
        .price-tag { font-size: 26px; font-weight: bold; color: var(--shopee); }

        /* BOTÕES DE VARIAÇÃO */
        .option-group { background: #fff; padding: 15px; border-bottom: 1px solid #eee; }
        .option-title { font-size: 14px; margin-bottom: 12px; color: #222; }
        .btn-grid { display: flex; flex-wrap: wrap; gap: 8px; }
        .opt-btn { 
            padding: 8px 12px; border: 1px solid #ddd; background: #f5f5f5; 
            border-radius: 2px; font-size: 13px; cursor: pointer; min-width: 70px; text-align: center;
        }
        .opt-btn.selected { border-color: var(--shopee); color: var(--shopee); background: #fff; }

        /* FORMULÁRIOS */
        input { width: 100%; padding: 12px; margin-bottom: 10px; border: 1px solid #ddd; border-radius: 2px; outline: none; font-size: 14px; }
        
        /* FOOTER COMPRA */
        .footer-buy { position: fixed; bottom: 0; width: 100%; background: #fff; display: flex; align-items: center; border-top: 1px solid #eee; height: 60px; z-index: 1000; }
        .btn-shopee { background: var(--shopee); color: #fff; border: none; width: 150px; height: 100%; font-weight: bold; font-size: 14px; text-transform: uppercase; cursor: pointer; }

        /* MODAIS E ETAPAS */
        .modal { display: none; position: fixed; inset: 0; background: #f5f5f5; z-index: 2000; overflow-y: auto; }
        .active { display: block !important; }

        /* PIX TELA FINAL */
        #qr-code { width: 200px; height: 200px; margin: 20px auto; display: block; }
        .copy-box { background: #f9f9f9; border: 1px dashed #ccc; padding: 15px; font-size: 11px; word-break: break-all; margin: 15px 0; }
    </style>
</head>
<body>

<div id="main-page">
    <div class="top-header">
        <i class="fas fa-arrow-left"></i>
        <h1>Produto Detalhes</h1>
    </div>
    
    <img src="https://down-br.img.susercontent.com/file/br-11134207-81z1k-meadx6k4pddue4" class="product-img">
    
    <div class="section">
        <div class="price-tag">R$599,00 <span style="font-size:12px; font-weight:normal; background:rgba(238,77,45,0.1); padding:2px 4px; border-radius:2px;">74% OFF</span></div>
        <h2 style="font-size:16px; font-weight:400; margin-top:8px;">Xiaomi Poco X7 PRO 5G Global Version - Lote Exclusivo 2026</h2>
    </div>

    <div class="section" style="display:flex; justify-content:space-between; align-items:center;">
        <span style="font-size:14px;">Frete Grátis</span>
        <i class="fas fa-truck" style="color:var(--teal)"></i>
    </div>

    <div style="height: 100px;"></div>

    <div class="footer-buy">
        <div style="flex:1; padding-left:15px;">
            <i class="far fa-comment-dots" style="color:var(--shopee); font-size:20px; margin-right:15px;"></i>
            <i class="fas fa-cart-plus" style="color:var(--shopee); font-size:20px;"></i>
        </div>
        <button class="btn-shopee" onclick="openStep(1)">Compre Agora</button>
    </div>
</div>

<div id="step-1" class="modal">
    <div class="top-header">
        <i class="fas fa-arrow-left" onclick="closeModal()"></i>
        <h1>Selecionar Opção</h1>
    </div>

    <div style="background:#fff; padding:15px; display:flex; gap:15px; border-bottom:8px solid #f5f5f5;">
        <img src="https://down-br.img.susercontent.com/file/br-11134207-81z1k-meadx6k4pddue4" style="width:100px; height:100px; object-fit:cover; border-radius:4px;">
        <div>
            <p class="orange-text" style="font-size:22px; font-weight:500;">R$599,00</p>
            <p class="gray-text">Estoque: 1.071</p>
        </div>
    </div>

    <div class="option-group" id="cor-group">
        <p class="option-title">Cor:</p>
        <div class="btn-grid">
            <div class="opt-btn" onclick="selectVar(this, 'cor')">AMARELO</div>
            <div class="opt-btn" onclick="selectVar(this, 'cor')">PRETO</div>
            <div class="opt-btn" onclick="selectVar(this, 'cor')">CINZA</div>
            <div class="opt-btn" onclick="selectVar(this, 'cor')">IRON MAN</div>
        </div>
    </div>

    <div class="option-group" id="gb-group">
        <p class="option-title">Armazenamento (GB):</p>
        <div class="btn-grid">
            <div class="opt-btn" onclick="selectVar(this, 'gb')">512GB-12GB</div>
            <div class="opt-btn" onclick="selectVar(this, 'gb')">256GB-8GB</div>
            <div class="opt-btn" onclick="selectVar(this, 'gb')">256GB-12GB</div>
        </div>
    </div>

    <div style="padding:15px; background:#fff; position:fixed; bottom:0; width:100%;">
        <button class="btn-shopee" style="width:100%; border-radius:4px;" onclick="checkVars()">PRÓXIMO</button>
    </div>
</div>

<div id="step-2" class="modal">
    <div class="top-header">
        <i class="fas fa-arrow-left" onclick="openStep(1)"></i>
        <h1>Configurar Endereço</h1>
    </div>
    <div class="section">
        <input type="text" id="nome" placeholder="Nome Completo">
        <input type="tel" id="cep" placeholder="CEP (apenas números)" maxlength="8" onblur="buscarCEP()">
        <input type="text" id="rua" placeholder="Rua / Avenida">
        <input type="text" id="numero" placeholder="Número">
        <input type="text" id="bairro" placeholder="Bairro">
        <input type="text" id="cidade" placeholder="Cidade / Estado">
        <button class="btn-shopee" style="width:100%; border-radius:4px; height:45px; margin-top:10px;" onclick="checkAddr()">CONTINUAR</button>
    </div>
</div>

<div id="step-3" class="modal">
    <div class="top-header">
        <i class="fas fa-arrow-left" onclick="openStep(2)"></i>
        <h1>Finalizar Compra</h1>
    </div>

    <div class="section" style="display:flex; align-items:center; gap:10px;">
        <i class="fas fa-map-marker-alt" style="color:var(--shopee); font-size:20px;"></i>
        <div style="flex:1">
            <b id="dispName" style="text-transform:uppercase; font-size:14px;"></b>
            <p id="dispAddr" style="font-size:13px; color:#666;"></p>
        </div>
    </div>

    <div class="section">
        <p style="font-size:12px; margin-bottom:10px;"><span style="background:var(--shopee); color:#fff; padding:1px 4px; border-radius:2px;">Indicado</span> <b>Loja Onix Oficial</b></p>
        <div style="display:flex; gap:12px;">
            <img src="https://down-br.img.susercontent.com/file/br-11134207-81z1k-meadx6k4pddue4" style="width:80px; height:80px; object-fit:cover;">
            <div style="flex:1">
                <p style="font-size:13px; font-weight:400;">Poco X7 Pro 5G - <span id="res-gb"></span> <span id="res-cor"></span></p>
                <p class="orange-text" style="font-size:16px; font-weight:bold; margin-top:5px;">R$599,00</p>
            </div>
        </div>
    </div>

    <div class="section">
        <div style="display:flex; justify-content:space-between; margin-bottom:8px; font-size:14px;"><span>Subtotal do Pedido</span><span>R$599,00</span></div>
        <div style="display:flex; justify-content:space-between; margin-bottom:8px; font-size:14px;"><span>Frete</span><span>R$0,00</span></div>
        <div style="display:flex; justify-content:space-between; margin-bottom:8px; font-size:14px;" class="orange-text"><span>Desconto Pix</span><span>-R$10,00</span></div>
        <div style="display:flex; justify-content:space-between; font-weight:bold; font-size:18px; border-top:1px solid #f0f0f0; padding-top:10px; margin-top:10px;">
            <span>Total</span><span class="orange-text">R$589,00</span>
        </div>
    </div>

    <div class="footer-buy">
        <div style="flex:1; text-align:right; padding-right:15px;">
            <p style="font-size:12px; color:#666;">Total</p>
            <b class="orange-text" style="font-size:20px;">R$589,00</b>
        </div>
        <button class="btn-shopee" onclick="gerarPagamento()">FAZER PEDIDO</button>
    </div>
</div>

<div id="step-4" class="modal" style="background:#fff; text-align:center; padding:40px 20px;">
    <div class="top-header">
        <h1>Pagamento Pix</h1>
    </div>
    <p style="font-weight:bold; color:var(--teal); font-size:20px; margin-top:20px;">Aguardando Pagamento</p>
    <img id="qr-code">
    <p style="font-size:14px; color:#666;">Copie o código abaixo para pagar via Pix</p>
    <div id="pix-copy" class="copy-box"></div>
    <button class="btn-shopee" style="width:100%; border-radius:4px; height:50px;" onclick="copiarPix()">COPIAR CÓDIGO PIX</button>
</div>

<script>
    let corSel = "", gbSel = "";

    function openStep(n) {
        document.querySelectorAll('.modal').forEach(m => m.classList.remove('active'));
        document.getElementById('step-' + n).classList.add('active');
        window.scrollTo(0,0);
    }

    function closeModal() {
        document.querySelectorAll('.modal').forEach(m => m.classList.remove('active'));
    }

    function selectVar(btn, grupo) {
        const pai = document.getElementById(grupo + '-group');
        pai.querySelectorAll('.opt-btn').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        
        if(grupo === 'cor') corSel = btn.innerText;
        if(grupo === 'gb') gbSel = btn.innerText;
    }

    function checkVars() {
        if(!corSel || !gbSel) return alert("Por favor, selecione Cor e GB!");
        openStep(2);
    }

    async function buscarCEP() {
        let cep = document.getElementById('cep').value.replace(/\D/g, '');
        if(cep.length === 8) {
            const resp = await fetch(`https://viacep.com.br/ws/${cep}/json/`);
            const data = await resp.json();
            if(!data.erro) {
                document.getElementById('rua').value = data.logradouro;
                document.getElementById('bairro').value = data.bairro;
                document.getElementById('cidade').value = data.localidade + " / " + data.uf;
            }
        }
    }

    function checkAddr() {
        const nome = document.getElementById('nome').value;
        if(!nome || !document.getElementById('rua').value) return alert("Preencha os dados de entrega!");
        
        document.getElementById('dispName').innerText = nome;
        document.getElementById('dispAddr').innerText = `${document.getElementById('rua').value}, ${document.getElementById('numero').value} - ${document.getElementById('cidade').value}`;
        document.getElementById('res-gb').innerText = gbSel;
        document.getElementById('res-cor').innerText = corSel;
        
        openStep(3);
    }

    function gerarPagamento() {
        const pixPayload = "00020101021226580014br.gov.bcb.pix0136db0cbb53-17be-449c-89c8-9bffd8f6c7b5520400005303986540589.005802BR5917LOJA ONIX OFICIAL6009SAO PAULO62070503***6304";
        document.getElementById('qr-code').src = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(pixPayload)}&color=ee4d2d`;
        document.getElementById('pix-copy').innerText = pixPayload;
        openStep(4);
    }

    function copiarPix() {
        const cod = document.getElementById('pix-copy').innerText;
        navigator.clipboard.writeText(cod);
        alert("Código PIX copiado!");
    }
</script>
</body>
</html>
